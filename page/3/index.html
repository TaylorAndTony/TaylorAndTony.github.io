<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content=""><meta name="keywords"><meta name="author" content="TaylorAndTony,undefined"><meta name="copyright" content="TaylorAndTony"><title>ã€Hexoã€‘</title><link rel="stylesheet" href="/css/fan.css"><link rel="stylesheet" href="/css/thirdparty/jquery.mCustomScrollbar.min.css"><link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css"><link rel="icon" href="/favicon.ico"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch.min.css"><link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4/dist/instantsearch-theme-algolia.min.css"><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.10.4"></script><!-- link(rel="dns-prefetch" href="https://cdn.jsdelivr.net")--><!-- link(rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.css")--><!-- script(src="https://cdn.jsdelivr.net/npm/instantsearch.js@2.1.1/dist/instantsearch.min.js" defer)--><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><!-- script(src=url_for("/js/mathjax/mathjax.js"))--><script type="text/x-mathjax-config">MathJax.Hub.Config({
    tex2jax: {inlineMath: [['$', '$'], ['\\(', '\\)']]}
});
</script><script>var isPassword = '' || false;
if (isPassword) {
    if (prompt('è¯·è¾“å…¥æ–‡ç« å¯†ç ') !== '') {
        alert('å¯†ç é”™è¯¯ï¼');
        history.back();
    }
}</script><script>window.GLOBAL_CONFIG = {
  root: '/',
  algolia: {"appId":"2J9NCG4VA1","apiKey":"e2286fef4db1fed3731c0afa0c68d9ed","indexName":"hexo","hits":{"per_page":10},"languages":{"input_placeholder":"æœç´¢æ–‡ç« ","hits_empty":"æ‰¾ä¸åˆ°æ‚¨æŸ¥è¯¢çš„å†…å®¹:${query}","hits_stats":"æ‰¾åˆ° ${hits} æ¡ç»“æœï¼Œç”¨æ—¶ ${time} æ¯«ç§’"}},
  localSearch: undefined,
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  gitment: {},
  valine: {},
  twikoo: {},
}</script><meta name="generator" content="Hexo 7.3.0"></head><body><canvas id="universe"></canvas><!--#body--><div id="sidebar"><div class="author-info"><div class="author-info-avatar"><img class="author-info-avatar-img" src="/avatar.png"></div><div class="author-info-name">TaylorAndTony</div><div class="author-info-description"></div><div class="links-buttons"><a class="links-button button-hover" href="https://github.com/TaylorAndTony" target="_blank">GitHub<i class="icon-dot bg-color3"></i></a><a class="links-button button-hover" href="mailto:doyijian@163.com" target="_blank">E-Mail<i class="icon-dot bg-color1"></i></a><a class="links-button button-hover" href="https://space.bilibili.com/47256272" target="_blank">Bilibili<i class="icon-dot bg-color3"></i></a></div><div class="author-info-articles"><a class="author-info-articles-archives article-meta" href="/archives"><span class="pull-top">æ—¥å¿—</span><span class="pull-bottom">38</span></a><a class="author-info-articles-tags article-meta" href="/tags"><span class="pull-top">æ ‡ç­¾</span><span class="pull-bottom">56</span></a><a class="author-info-articles-categories article-meta" href="/categories"><span class="pull-top">åˆ†ç±»</span><span class="pull-bottom">11</span></a></div></div></div><div id="main-container"><header><div id="menu-outer"><i class="menu-list-icon fas fa-bars"></i><nav id="menu-inner"><a class="menu-item" href="/">é¦–é¡µ</a><a class="menu-item" href="/tags">æ ‡ç­¾</a><a class="menu-item" href="/categories">åˆ†ç±»</a><a class="menu-item" href="/archives">å½’æ¡£</a><a class="menu-item" href="/about">å…³äº</a></nav><div class="right-info"><a class="search social-icon"><i class="fas fa-search"></i><span> æœç´¢</span></a><a class="title-name" href="/">Hexo</a><span id="now-time"></span></div></div></header><div id="content-outer"><div id="content-inner"><div id="recent-posts"><!-- each post in page.posts.sort('date', -1).limit(10).toArray()--><!-- configä¸­é…ç½®æŒ‰ç…§ä»€ä¹ˆæ’åº--><div class="recent-post-item"><a class="post-title" href="/2025/01/25/csharp-efcore/">EF Core å¿«é€Ÿå¼€å§‹</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-25</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/csharp/">csharp</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/csharp/">csharp</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/asp-net/">asp.net</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/microsoft/">microsoft</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/ef-core/">ef core</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/dotnet/">dotnet</a></div></div><div class="post-content"><div class="main-content content"><h1 id="EF-Core-å¿«é€Ÿå¼€å§‹"><a href="#EF-Core-å¿«é€Ÿå¼€å§‹" class="headerlink" title="EF Core å¿«é€Ÿå¼€å§‹"></a>EF Core å¿«é€Ÿå¼€å§‹</h1><h2 id="å®‰è£…efåŒ…"><a href="#å®‰è£…efåŒ…" class="headerlink" title="å®‰è£…efåŒ…"></a>å®‰è£…efåŒ…</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Microsoft.EntityFrameworkCore.Sqlite</span><br><span class="line">Microsoft.EntityFrameworkCore.Design</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ä¸è¦å®‰è£…æˆ<code>Microsoft.EntityFrameworkCore.Sqlite.Core</code>æœ€åå¸¦<strong>core</strong>ç»“å°¾çš„ä¸æ˜¯ã€‚</p>
<h2 id="å®ä½“æ¨¡å‹"><a href="#å®ä½“æ¨¡å‹" class="headerlink" title="å®ä½“æ¨¡å‹"></a>å®ä½“æ¨¡å‹</h2><p>å»ºä¸ªæ–‡ä»¶å¤¹æ¯”å¦‚<strong>Db</strong>å­˜æ”¾æ‰€æœ‰çš„å®ä½“æ¨¡å‹ã€‚æ•°æ®åº“Contextç±»å¦‚ä¸‹</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">EasyRepo.Db</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">MainContext</span> : <span class="title">DbContext</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MainContext</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">MainContext</span>(<span class="params">DbContextOptions&lt;MainContext&gt; options</span>) : <span class="title">base</span>(<span class="params">options</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> DbSet&lt;ItemCategory&gt; ItemCategories &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> DbSet&lt;ItemProvider&gt; ItemProviders &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> DbSet&lt;InputItem&gt; InputItems &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> DbSet&lt;OutputItem&gt; OutputItems &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">protected</span> <span class="keyword">override</span> <span class="keyword">void</span> <span class="title">OnConfiguring</span>(<span class="params">DbContextOptionsBuilder optionsBuilder</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!optionsBuilder.IsConfigured)</span><br><span class="line">            &#123;</span><br><span class="line">                optionsBuilder.UseSqlite(<span class="string">&quot;Data Source=data.db&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å…¶ä¸­ä¸€ä¸ªå®ä½“ç±»æ¨¡æ¿å¦‚ä¸‹</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">EasyRepo.Db</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">InputItem</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">Key</span>]</span><br><span class="line">        [<span class="meta">DatabaseGenerated(DatabaseGeneratedOption.Identity)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        </span><br><span class="line">        [<span class="meta">Required</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime InputDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        </span><br><span class="line">        [<span class="meta">ForeignKey(<span class="string">&quot;CategoryId&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> ItemCategory Category &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        </span><br><span class="line">        [<span class="meta">AllowNull</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Itemname &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        </span><br><span class="line">        [<span class="meta">ForeignKey(<span class="string">&quot;ProviderId&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> ItemProvider Provider &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        </span><br><span class="line">        [<span class="meta">Required</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">decimal</span> Count &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        </span><br><span class="line">        [<span class="meta">Required</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">decimal</span> Price &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        </span><br><span class="line">        [<span class="meta">AllowNull</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Note &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„æ•°æ®åº“ä¸€ä¸ªè¡¨çš„å¤–é”®å¿…é¡»ä½¿ç”¨è¯¸å¦‚<strong>CategoryId</strong>è¿™æ ·çš„å‘½åæ–¹å¼ï¼Œå¦åˆ™è¿ç§»ä¼šæŠ¥é”™ã€‚</p>
<h2 id="è¿ç§»æ•°æ®"><a href="#è¿ç§»æ•°æ®" class="headerlink" title="è¿ç§»æ•°æ®"></a>è¿ç§»æ•°æ®</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># æ–°å»ºè¿ç§»</span><br><span class="line">dotnet ef migrations add InitialCreate</span><br><span class="line"></span><br><span class="line"># å¼€å§‹åˆ›å»ºæ•°æ®åº“</span><br><span class="line">dotnet ef database update</span><br><span class="line"></span><br><span class="line"># å¦‚æœæç¤ºç‰ˆæœ¬è¿‡ä½ï¼Œå‡çº§ ef å·¥å…·ç‰ˆæœ¬</span><br><span class="line">dotnet tool update --global dotnet-ef</span><br></pre></td></tr></table></figure>

<h2 id="ä¸ä½¿ç”¨ä¾èµ–æ³¨å…¥"><a href="#ä¸ä½¿ç”¨ä¾èµ–æ³¨å…¥" class="headerlink" title="ä¸ä½¿ç”¨ä¾èµ–æ³¨å…¥"></a>ä¸ä½¿ç”¨ä¾èµ–æ³¨å…¥</h2><p>å¦‚æœä¸ç”¨ç±»ä¼¼ASP.NETé‚£æ ·çš„ä¾èµ–æ³¨å…¥æ¥ä½¿ç”¨æ•°æ®åº“ï¼Œéœ€è¦åœ¨ DbContext åŒçº§ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª <code>DesignTimeDbContextFactory.cs</code> ç±»</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">EasyRepo.Db</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DesignTimeDbContextFactory</span> : <span class="title">IDesignTimeDbContextFactory</span>&lt;<span class="title">MainContext</span>&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> MainContext <span class="title">CreateDbContext</span>(<span class="params"><span class="built_in">string</span>[] <span class="keyword">args</span></span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">var</span> optionsBuilder = <span class="keyword">new</span> DbContextOptionsBuilder&lt;MainContext&gt;();</span><br><span class="line">            optionsBuilder.UseSqlite(<span class="string">&quot;Data Source=data.db&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> MainContext(optionsBuilder.Options);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿™æ ·è®©efå·¥å…·æ­£ç¡®è¯†åˆ«å¦‚ä½•æ–°å»ºæ•°æ®åº“ã€‚</p>
</div></div><a class="button-hover more" href="/2025/01/25/csharp-efcore/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/25/diy-mi-band-4/">å°ç±³æ‰‹ç¯ 4 æ‰‹åŠ¨åŒæ­¥ bin è¡¨ç›˜</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-25</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/diy/">diy</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/electronics/">electronics</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/diy/">diy</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/mi/">mi</a></div></div><div class="post-content"><div class="main-content content"><h1 id="å°ç±³æ‰‹ç¯-4-æ‰‹åŠ¨åŒæ­¥-bin-è¡¨ç›˜"><a href="#å°ç±³æ‰‹ç¯-4-æ‰‹åŠ¨åŒæ­¥-bin-è¡¨ç›˜" class="headerlink" title="å°ç±³æ‰‹ç¯ 4 æ‰‹åŠ¨åŒæ­¥ bin è¡¨ç›˜"></a>å°ç±³æ‰‹ç¯ 4 æ‰‹åŠ¨åŒæ­¥ bin è¡¨ç›˜</h1><h2 id="æ–¹æ³•ä¸€ï¼ˆä¸æ¨èï¼‰"><a href="#æ–¹æ³•ä¸€ï¼ˆä¸æ¨èï¼‰" class="headerlink" title="æ–¹æ³•ä¸€ï¼ˆä¸æ¨èï¼‰"></a>æ–¹æ³•ä¸€ï¼ˆä¸æ¨èï¼‰</h2><h3 id="1-å°ç±³è¿åŠ¨ä¸‹è½½ä¸€ä¸ªè¡¨ç›˜"><a href="#1-å°ç±³è¿åŠ¨ä¸‹è½½ä¸€ä¸ªè¡¨ç›˜" class="headerlink" title="1. å°ç±³è¿åŠ¨ä¸‹è½½ä¸€ä¸ªè¡¨ç›˜"></a>1. å°ç±³è¿åŠ¨ä¸‹è½½ä¸€ä¸ªè¡¨ç›˜</h3><p>ä»å°ç±³è¿åŠ¨é‡Œéšä¾¿æ‰¾ä¸ªè¡¨ç›˜ï¼Œè®°ä½æ‰¾çš„å“ªä¸€ä¸ªï¼Œç„¶ååŒæ­¥</p>
<h3 id="2-æ›¿æ¢æ–‡ä»¶"><a href="#2-æ›¿æ¢æ–‡ä»¶" class="headerlink" title="2. æ›¿æ¢æ–‡ä»¶"></a>2. æ›¿æ¢æ–‡ä»¶</h3><p>åœ¨</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ­¤ç”µè„‘\Redmi K30 Pro\å†…éƒ¨å­˜å‚¨è®¾å¤‡\Android\data\com.xiaomi.hm.health\files\watch_skin_local</span><br></pre></td></tr></table></figure>

<p>å†…æ‰¾åˆ°åˆšä¸‹è½½çš„è¡¨ç›˜ï¼Œè¡¨ç›˜æ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œåå­—ç±»ä¼¼<code>7ec60bf34ee7258203b9379495505706</code></p>
<p>æ‰“å¼€é‡Œé¢æœ‰ç¼©ç•¥å›¾</p>
<h3 id="3-å†æ¬¡åŒæ­¥"><a href="#3-å†æ¬¡åŒæ­¥" class="headerlink" title="3. å†æ¬¡åŒæ­¥"></a>3. å†æ¬¡åŒæ­¥</h3><p>å°†æ–‡ä»¶å¤¹å†…çš„binæ›¿æ¢æˆä¸‹è½½çš„ç¬¬ä¸‰æ–¹binï¼Œå›åˆ°å°ç±³è¿åŠ¨appï¼Œæ‰“å¼€åˆšæ‰ä¸‹çš„è¡¨ç›˜ï¼Œç‚¹å‡»ç«‹å³åŒæ­¥</p>
<h2 id="æ–¹æ³•äºŒï¼ˆæ¨èï¼‰"><a href="#æ–¹æ³•äºŒï¼ˆæ¨èï¼‰" class="headerlink" title="æ–¹æ³•äºŒï¼ˆæ¨èï¼‰"></a>æ–¹æ³•äºŒï¼ˆæ¨èï¼‰</h2><p>æ‰‹åŠ¨æ„é€ è¡¨ç›˜æ–‡ä»¶å¤¹ï¼Œå…ˆéšä¾¿æ–°å»ºä¸ªæ–‡ä»¶å¤¹</p>
<h3 id="1-XML"><a href="#1-XML" class="headerlink" title="1. XML"></a>1. XML</h3><p>åœ¨æ–‡ä»¶å¤¹å†…åˆ›å»º<code>infos.xml</code> XML æ–‡ä»¶</p>
<p>åç§°ä¸º <code>infos.xml</code>æ³¨æ„æ˜¯ <strong>infos</strong> ä¸æ˜¯ <strong>info</strong> </p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;utf-8&#x27; standalone=&#x27;yes&#x27; ?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">watch_skin_info</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">info</span>&gt;</span>&#123;&quot;O00000oO&quot;:&quot;è¡¨ç›˜åç§°&quot;,&quot;O00000oo&quot;:0,&quot;O0000O0o&quot;:103587,&quot;O0000OOo&quot;:0,&quot;O0000Oo&quot;:false&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">info</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">watch_skin_info</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="2-å›¾ç‰‡"><a href="#2-å›¾ç‰‡" class="headerlink" title="2. å›¾ç‰‡"></a>2. å›¾ç‰‡</h3><p>ç›¸åŒç›®å½•ä¸‹æ”¾å…¥ä¸€ä¸ª <code>120X240</code> çš„<code>png</code>æ ¼å¼å›¾ç‰‡ç”¨äºé¢„è§ˆå›¾</p>
<h3 id="3-bin"><a href="#3-bin" class="headerlink" title="3. bin"></a>3. bin</h3><p>ç›¸åŒç›®å½•ä¸‹æ”¾å…¥ä¸‹è½½çš„binæ–‡ä»¶</p>
<h3 id="4-æ‰“åŒ…"><a href="#4-æ‰“åŒ…" class="headerlink" title="4. æ‰“åŒ…"></a>4. æ‰“åŒ…</h3><p>ä»¥ä¸Šæ‰€æœ‰ä¸‰ä¸ªæ–‡ä»¶æ”¾å…¥åŒä¸€æ–‡ä»¶å¤¹ï¼ŒæŠŠè¿™ä¸ªæ–‡ä»¶å¤¹æ”¾åˆ°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ­¤ç”µè„‘\Redmi K30 Pro\å†…éƒ¨å­˜å‚¨è®¾å¤‡\Android\data\com.xiaomi.hm.health\files\watch_skin_local</span><br></pre></td></tr></table></figure>

<h3 id="é™„ï¼šæ–¹æ³•äºŒè‡ªåŠ¨æ‰“åŒ…ï¼Œè°ƒç”¨-aio-å‡½æ•°å³å¯"><a href="#é™„ï¼šæ–¹æ³•äºŒè‡ªåŠ¨æ‰“åŒ…ï¼Œè°ƒç”¨-aio-å‡½æ•°å³å¯" class="headerlink" title="é™„ï¼šæ–¹æ³•äºŒè‡ªåŠ¨æ‰“åŒ…ï¼Œè°ƒç”¨ aio å‡½æ•°å³å¯"></a>é™„ï¼šæ–¹æ³•äºŒè‡ªåŠ¨æ‰“åŒ…ï¼Œè°ƒç”¨ <code>aio</code> å‡½æ•°å³å¯</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">ä»ç½‘ä¸Šä¸‹è½½ç¬¦åˆè¦æ±‚çš„å›¾ç‰‡å’Œ bin æ–‡ä»¶ï¼Œæ‰“å¼€æ­¤ç¨‹åº</span></span><br><span class="line"><span class="string">è¾“å…¥æ–‡ä»¶ååè‡ªåŠ¨å¤„ç†æ‰“åŒ…</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> shutil</span><br><span class="line"><span class="keyword">import</span> PySimpleGUI <span class="keyword">as</span> sg</span><br><span class="line"></span><br><span class="line">HELP = <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">ä»ç½‘ä¸Šä¸‹è½½ç¬¦åˆè¦æ±‚çš„å›¾ç‰‡å’Œ bin æ–‡ä»¶ï¼Œ</span></span><br><span class="line"><span class="string">å¹¶æ”¾åœ¨æ­¤ç¨‹åºæ‰€åœ¨çš„æ–‡ä»¶å¤¹ï¼Œ</span></span><br><span class="line"><span class="string">æ‰“å¼€æ­¤ç¨‹åºï¼Œè¾“å…¥ä¸€ä¸ªè‡ªå®šä¹‰çš„åå­—</span></span><br><span class="line"><span class="string">æ­¤è½¯ä»¶è‡ªåŠ¨å¤„ç†æ‰“åŒ…</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">XML = <span class="string">&quot;&quot;&quot;&lt;?xml version=&#x27;1.0&#x27; encoding=&#x27;utf-8&#x27; standalone=&#x27;yes&#x27; ?&gt;&lt;watch_skin_info&gt;&lt;info&gt;&#123;&quot;O00000oO&quot;:&quot;&#123;&#123;NAME&#125;&#125;&quot;,&quot;O00000oo&quot;:0,&quot;O0000O0o&quot;:103587,&quot;O0000OOo&quot;:0,&quot;O0000Oo&quot;:false&#125;&lt;/info&gt;&lt;/watch_skin_info&gt;&quot;&quot;&quot;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">write_xml</span>(<span class="params">folder, name</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; generate the XML template and write it to XML file &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">f&#x27;<span class="subst">&#123;folder&#125;</span>/infos.xml&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">        f.write(XML.replace(<span class="string">&#x27;&#123;&#123;NAME&#125;&#125;&#x27;</span>, name))</span><br><span class="line">        </span><br><span class="line">        </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">name_is_pic</span>(<span class="params">name</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot;check whether the file is picture</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    checks: &#x27;webp&#x27;, &#x27;jpg&#x27;, &#x27;jpeg&#x27;, &#x27;gif&#x27;</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    ext = name.split(<span class="string">&#x27;.&#x27;</span>)[-<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">if</span> ext <span class="keyword">in</span> &#123;<span class="string">&#x27;webp&#x27;</span>, <span class="string">&#x27;jpg&#x27;</span>, <span class="string">&#x27;jpeg&#x27;</span>, <span class="string">&#x27;gif&#x27;</span>&#125;:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">convert_png</span>(<span class="params">folder</span>):</span><br><span class="line">    <span class="string">&quot;&quot;&quot; æŠŠå›¾ç‰‡åç¼€æ”¹æˆpng &quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> file <span class="keyword">in</span> os.listdir(folder):</span><br><span class="line">        <span class="comment"># base name</span></span><br><span class="line">        name_without_ext = file.split(<span class="string">&#x27;.&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">        <span class="comment"># is picture</span></span><br><span class="line">        <span class="keyword">if</span> name_is_pic(file):</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;[I] è½¬æ¢å›¾ç‰‡: %s&#x27;</span> % file)</span><br><span class="line">            os.system(<span class="string">f&#x27;magick &quot;<span class="subst">&#123;folder&#125;</span>\\<span class="subst">&#123;file&#125;</span>&quot; &quot;<span class="subst">&#123;folder&#125;</span>\\<span class="subst">&#123;name_without_ext&#125;</span>.png&quot;&#x27;</span>)</span><br><span class="line">            <span class="comment"># list dirs again to check the num of png</span></span><br><span class="line">            pngs = [i <span class="keyword">for</span> i <span class="keyword">in</span> os.listdir(folder) <span class="keyword">if</span> i.endswith(<span class="string">&#x27;.png&#x27;</span>)]</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(pngs) &gt; <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> pngs[<span class="number">1</span>:]:</span><br><span class="line">                    os.remove(<span class="string">f&#x27;<span class="subst">&#123;folder&#125;</span>\\<span class="subst">&#123;j&#125;</span>&#x27;</span>)</span><br><span class="line">                    <span class="built_in">print</span>(<span class="string">&#x27;[I] åˆ é™¤: %s&#x27;</span> % j)</span><br><span class="line">            os.remove(<span class="string">f&#x27;<span class="subst">&#123;folder&#125;</span>\\<span class="subst">&#123;file&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;[I] åˆ é™¤: %s&#x27;</span> % file)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;[X] æ–‡ä»¶å¤¹ %s å†…æ²¡æœ‰å›¾ç‰‡æ–‡ä»¶ã€‚&#x27;</span> % folder)</span><br><span class="line">            </span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">aio</span>(<span class="params">skin_name</span>) -&gt; <span class="built_in">str</span>:</span><br><span class="line">    <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">    give me the skin name and i will do all things, </span></span><br><span class="line"><span class="string">    return a str describe the status</span></span><br><span class="line"><span class="string">    &quot;&quot;&quot;</span></span><br><span class="line">    skin = <span class="string">&#x27;no&#x27;</span></span><br><span class="line">    pic = <span class="string">&#x27;no&#x27;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(skin_name):</span><br><span class="line">            os.mkdir(skin_name)</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">for</span> this_folder_file <span class="keyword">in</span> os.listdir(<span class="string">&#x27;./&#x27;</span>):</span><br><span class="line">        <span class="comment"># find Bin file!</span></span><br><span class="line">        <span class="keyword">if</span> this_folder_file.endswith(<span class="string">&#x27;.bin&#x27;</span>):</span><br><span class="line">            skin = <span class="string">&#x27;yes&#x27;</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;[I] è¯†åˆ«è¡¨ç›˜ï¼š%s&#x27;</span> % this_folder_file)</span><br><span class="line">            bin_file = this_folder_file</span><br><span class="line">            <span class="comment"># move it</span></span><br><span class="line">            shutil.move(bin_file, <span class="string">f&#x27;<span class="subst">&#123;skin_name&#125;</span>/<span class="subst">&#123;bin_file&#125;</span>&#x27;</span>)</span><br><span class="line">            <span class="comment"># generate template</span></span><br><span class="line">            write_xml(skin_name, skin_name)</span><br><span class="line">            <span class="comment"># whether to download picture</span></span><br><span class="line">        <span class="keyword">elif</span> name_is_pic(this_folder_file):</span><br><span class="line">            pic = <span class="string">&#x27;yes&#x27;</span></span><br><span class="line">            <span class="built_in">print</span>(<span class="string">&#x27;[I] è¯†åˆ«å›¾ç‰‡ï¼š%s&#x27;</span> % this_folder_file)</span><br><span class="line">            <span class="comment"># move the picture to the directory</span></span><br><span class="line">            shutil.move(this_folder_file, <span class="string">f&#x27;<span class="subst">&#123;skin_name&#125;</span>\\<span class="subst">&#123;this_folder_file&#125;</span>&#x27;</span>)</span><br><span class="line">            convert_png(skin_name)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">f&#x27;å®Œæˆï¼Œæ£€æµ‹åˆ°çš®è‚¤ï¼š<span class="subst">&#123;skin&#125;</span>ï¼Œæ£€æµ‹åˆ°å›¾ç‰‡ï¼š<span class="subst">&#123;pic&#125;</span>&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">gui</span>():</span><br><span class="line">    f = (<span class="string">&#x27;å¾®è½¯é›…é»‘&#x27;</span>, <span class="number">16</span>)</span><br><span class="line">    sg.theme(<span class="string">&#x27;Dark&#x27;</span>)</span><br><span class="line">    layout = [</span><br><span class="line">        [sg.Text(<span class="string">&#x27;è¡¨ç›˜åç§°&#x27;</span>, font=f),</span><br><span class="line">         sg.InputText(key=<span class="string">&#x27;-NAME-&#x27;</span>, font=f, size=(<span class="number">20</span>, <span class="number">1</span>))],</span><br><span class="line">        </span><br><span class="line">        [sg.Text(<span class="string">&#x27;Ready&#x27;</span>, key=<span class="string">&#x27;-STATUS-&#x27;</span>, size=(<span class="number">30</span>, <span class="number">1</span>),font=f)],</span><br><span class="line">        </span><br><span class="line">        [sg.Button(<span class="string">&#x27;ç”Ÿæˆï¼&#x27;</span>, font=f),</span><br><span class="line">         sg.Button(<span class="string">&#x27;é€€å‡º&#x27;</span>, font=f), </span><br><span class="line">         sg.Button(<span class="string">&#x27;å¸®åŠ©&#x27;</span>, font=f)]</span><br><span class="line">    ]</span><br><span class="line"></span><br><span class="line">    window = sg.Window(<span class="string">&#x27;å°ç±³æ‰‹ç¯4è¡¨ç›˜ç”Ÿæˆå™¨&#x27;</span>, layout)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        event, values = window.read()</span><br><span class="line">        <span class="built_in">print</span>(event, values)</span><br><span class="line">        <span class="keyword">if</span> event == sg.WIN_CLOSED <span class="keyword">or</span> event == <span class="string">&#x27;é€€å‡º&#x27;</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">elif</span> event == <span class="string">&#x27;ç”Ÿæˆï¼&#x27;</span>:</span><br><span class="line">            text = values[<span class="string">&#x27;-NAME-&#x27;</span>]</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">                window[<span class="string">&#x27;-STATUS-&#x27;</span>].update(<span class="string">&#x27;Skin name is required!&#x27;</span>)</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            output = aio(text)</span><br><span class="line">            window[<span class="string">&#x27;-STATUS-&#x27;</span>].update(output)</span><br><span class="line">        <span class="keyword">elif</span> event == <span class="string">&#x27;å¸®åŠ©&#x27;</span>:</span><br><span class="line">            sg.popup(<span class="string">&#x27;å¸®åŠ©&#x27;</span>, HELP, font=f)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    <span class="comment"># aio(&#x27;tttttttttttttt&#x27;)</span></span><br><span class="line">    <span class="comment"># convert_png(&#x27;ProstoFace Orange&#x27;)</span></span><br><span class="line">    gui()</span><br><span class="line"></span><br></pre></td></tr></table></figure>

</div></div><a class="button-hover more" href="/2025/01/25/diy-mi-band-4/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/24/robocopy-in-real-action/">Robocopyå®æˆ˜æ–‡ä»¶å¤‡ä»½</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-24</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/software/">software</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/windows/">windows</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/robocopy/">robocopy</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/backup/">backup</a></div></div><div class="post-content"><div class="main-content content"><h1 id="Robocopyå®æˆ˜æ–‡ä»¶å¤‡ä»½"><a href="#Robocopyå®æˆ˜æ–‡ä»¶å¤‡ä»½" class="headerlink" title="Robocopyå®æˆ˜æ–‡ä»¶å¤‡ä»½"></a>Robocopyå®æˆ˜æ–‡ä»¶å¤‡ä»½</h1><p><a target="_blank" rel="noopener" href="https://docs.microsoft.com/zh-cn/windows-server/administration/windows-commands/robocopy">robocopy | Microsoft Docs</a></p>
<p>robocopy æ˜¯ windows ç³»ç»Ÿè‡ªå¸¦çš„ä¸€ä¸ªå¼ºå¤§çš„å‘½ä»¤è¡Œæ–‡ä»¶å¤¹&#x2F;æ–‡ä»¶å¤åˆ¶å·¥å…·ï¼Œå®ƒæœ‰éå¸¸å¤šçš„å‚æ•°å¯ä»¥é…ç½®ã€‚åœ¨æ•°æ®åŒæ­¥ä¸­ï¼Œrobocopy å¯ç”¨äºç¼–å†™è‡ªåŠ¨åŒæ­¥è„šæœ¬ï¼Œå¦‚é•œåƒåŒæ­¥ç›®å½• a åˆ°ç›®å½• bï¼Œæˆ–å¢é‡åŒæ­¥ a åˆ° b ç­‰ï¼Œé€‚åˆä½œä¸ºæ•°æ®å¤‡ä»½è„šæœ¬ã€‚</p>
<h2 id="ğŸ”robocopy-è¯­æ³•"><a href="#ğŸ”robocopy-è¯­æ³•" class="headerlink" title="ğŸ”robocopy è¯­æ³•"></a>ğŸ”robocopy è¯­æ³•</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">robocopy &lt;source&gt; &lt;destination&gt; [&lt;file&gt;[ ...]] [&lt;options&gt;]</span><br><span class="line"></span><br><span class="line">robocopy  åŸè·¯å¾„  ç›®æ ‡è·¯å¾„  [æ–‡ä»¶[ ...]]  [é€‰é¡¹]</span><br><span class="line"></span><br><span class="line">å¦‚æœè·¯å¾„ä¸­æœ‰ç©ºæ ¼ï¼Œè·¯å¾„éœ€è¦ç”¨è‹±æ–‡å¼•å·åŒ…å›´ã€‚å¦‚ &quot;D:\my folder&quot; å’Œ &quot;D:\his folder&quot;</span><br></pre></td></tr></table></figure>

<h2 id="ğŸš€å‘½ä»¤è¡Œå‚æ•°é€ŸæŸ¥"><a href="#ğŸš€å‘½ä»¤è¡Œå‚æ•°é€ŸæŸ¥" class="headerlink" title="ğŸš€å‘½ä»¤è¡Œå‚æ•°é€ŸæŸ¥"></a>ğŸš€å‘½ä»¤è¡Œå‚æ•°é€ŸæŸ¥</h2><h3 id="S"><a href="#S" class="headerlink" title="&#x2F;S"></a>&#x2F;S</h3><p><strong>å¸¸ç”¨äºä¸å¸Œæœ›åˆ é™¤ç›®æ ‡ç›®å½•çš„å¤‡ä»½æ–¹å¼</strong></p>
<p>ä½¿ç”¨ <code>/s</code> æ¥å®Œæ•´å¤åˆ¶å­ç›®å½•ï¼Œç›¸å½“äºç›´æ¥ä¸¤ä¸ªæ–‡ä»¶å¤¹ä¹‹é—´å¤åˆ¶ç²˜è´´ï¼Œä¹Ÿç›¸å½“äº Linux ä¸Šçš„é€’å½’å¤åˆ¶ï¼›</p>
<p>ç›¸åŒæ–‡ä»¶ï¼Œè¢«æºç›®å½•æ›¿æ¢ï¼›æºç›®å½•å¤šçš„æ–‡ä»¶ï¼Œç›®æ ‡ç›®å½•ä¸å—å½±å“ï¼›</p>
<p>ä¾‹ï¼šæ¨¡æ‹ŸæŠŠ D:\a æ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶å¤åˆ¶ï¼Œç²˜è´´åˆ° D:\b æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶æ›¿æ¢åŒåæ–‡ä»¶ï¼Œ&#x2F;MT:1 å‚æ•°åé¢è¯´æ˜ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">robocopy &quot;D:\a&quot; &quot;D:\b&quot; /S /MT:1</span><br></pre></td></tr></table></figure>

<h3 id="B"><a href="#B" class="headerlink" title="&#x2F;B"></a>&#x2F;B</h3><p><strong>ä¸å¸¸ç”¨</strong>ï¼›</p>
<p>ä½¿ç”¨ <code>/b</code> åœ¨å¤‡ä»½æ¨¡å¼ä¸‹å¤åˆ¶æ–‡ä»¶ã€‚ å¤‡ä»½æ¨¡å¼å…è®¸ Robocopy (ACL) æ›¿ä»£æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æƒé™è®¾ç½®ã€‚ è¿™æ ·ï¼Œå°±å¯ä»¥å¤åˆ¶ä½ å¯èƒ½æ— æƒè®¿é—®çš„æ–‡ä»¶ï¼Œå‰ææ˜¯è¯¥æ–‡ä»¶åœ¨å…·æœ‰è¶³å¤Ÿæƒé™çš„å¸æˆ·ä¸‹è¿è¡Œï¼›</p>
<h3 id="MIR"><a href="#MIR" class="headerlink" title="&#x2F;MIR"></a>&#x2F;MIR</h3><p><strong>å¸¸ç”¨äºé•œåƒå¤‡ä»½æ–‡ä»¶å¤¹</strong>ï¼Œç›®æ ‡æ–‡ä»¶å¤¹ä¼šä¸æºæ–‡ä»¶å¤¹ä¿æŒä¸€è‡´ã€‚</p>
<p>ä½¿ç”¨ <code>/mir</code> æ¥é•œåƒå¤åˆ¶ï¼Œå°†æ­¤é€‰é¡¹ä¸ <strong>&#x2F;e</strong> é€‰é¡¹å’Œç›®æ ‡ç›®å½•ç»“åˆä½¿ç”¨ï¼Œè¦†ç›–ç›®æ ‡ç›®å½•å®‰å…¨è®¾ç½®ã€‚</p>
<p>ä¾‹ï¼šæ¨¡æ‹ŸæŠŠ D:\a æ–‡ä»¶å¤¹å†…æ‰€æœ‰æ–‡ä»¶å¤åˆ¶ï¼Œç²˜è´´åˆ° D:\b æ–‡ä»¶å¤¹ä¸‹ï¼Œå¹¶æ›¿æ¢åŒåæ–‡ä»¶ï¼Œå¹¶åˆ é™¤ b å†…çš„å¤šä½™æ–‡ä»¶ã€‚ç›¸å½“äºè®© b å®Œå…¨ä¿æŒä¸ a ç›¸åŒçš„æ–‡ä»¶ç»“æ„ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">robocopy &quot;D:\a&quot; &quot;D:\b&quot; /MIR /MT:1</span><br></pre></td></tr></table></figure>

<h3 id="MT"><a href="#MT" class="headerlink" title="&#x2F;MT"></a>&#x2F;MT</h3><p>ä½¿ç”¨ <code>/mt:2</code> æŒ‡å®šå¤åˆ¶æ—¶çº¿ç¨‹æ•°ä¸º 2ï¼›</p>
<p><font color="red"><strong>é‡è¦ï¼š</strong></font> <strong>åœ¨ä¸€åˆ‡æœºæ¢°ç¡¬ç›˜ï¼Œæ— è®ºCMRå‚ç›´è¿˜æ˜¯SMRå ç“¦ï¼Œéƒ½åº”å½“ä½¿ç”¨ &#x2F;MT:1 å¼€å¯å•çº¿ç¨‹å†™å…¥</strong>ï¼›å›ºæ€ç¡¬ç›˜ä¹Ÿæ¨èä½¿ç”¨æ­¤å‚æ•°ã€‚å¯¹äºSMRå ç“¦ç›˜ï¼Œä¸å¼€å¯ &#x2F;MT:1 çš„é»˜è®¤ 8 çº¿ç¨‹å†™å…¥ä¼šå¤§å¹…é™ä½ç¡¬ç›˜å¯¿å‘½ï¼›</p>
<h3 id="COPY"><a href="#COPY" class="headerlink" title="&#x2F;COPY"></a>&#x2F;COPY</h3><p><strong>è‹¥ä¸å¸Œæœ›ç”¨ç®¡ç†å‘˜èº«ä»½æ‰§è¡Œrobocopyï¼Œå¯æ·»åŠ  &#x2F;COPY:DT å‚æ•°</strong>ï¼Œé¿å…å¤åˆ¶æ–‡ä»¶å±æ€§</p>
<p>ä½¿ç”¨ <code>/copy:flag</code> æŒ‡å®šè¦å¤åˆ¶çš„æ–‡ä»¶å±æ€§ã€‚ æ­¤é€‰é¡¹çš„æœ‰æ•ˆå€¼ä¸ºï¼š<strong>D</strong> - æ•°æ®<strong>A</strong> - å±æ€§<strong>T</strong> - æ—¶é—´æˆ³<strong>S</strong> - NTFS è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL)<strong>O</strong> - æ‰€æœ‰è€…ä¿¡æ¯<strong>U</strong> - å®¡æ ¸ä¿¡æ¯æ­¤é€‰é¡¹çš„é»˜è®¤å€¼ä¸º <strong>DAT</strong> (æ•°æ®ã€å±æ€§å’Œæ—¶é—´æˆ³) ã€‚</p>
<h2 id="ğŸ“é‡è¦è§„åˆ™-å¿…è¯»"><a href="#ğŸ“é‡è¦è§„åˆ™-å¿…è¯»" class="headerlink" title="ğŸ“é‡è¦è§„åˆ™(å¿…è¯»)"></a>ğŸ“é‡è¦è§„åˆ™(å¿…è¯»)</h2><p><font color="red"><strong>ä¸‹é¢è¿™äº›éå¸¸é‡è¦</strong></font></p>
<ul>
<li>åœ¨ä¸€åˆ‡æœºæ¢°ç¡¬ç›˜ï¼Œæ— è®ºCMRå‚ç›´è¿˜æ˜¯SMRå ç“¦ï¼Œéƒ½å¿…é¡»æ·»åŠ  **&#x2F;MT:1 **å‚æ•°å¼€å¯å•çº¿ç¨‹å†™å…¥ï¼›</li>
<li>ä½¿ç”¨æ‰¹å¤„ç†æ—¶ï¼Œæ–‡ä»¶ç¼–ç <strong>å¿…é¡»ä¸º ANSI, GBK ä¸­çš„ä¸€ç§</strong>ï¼ˆGBK å’Œ ANSI åœ¨ Windows ä¸Šç­‰ä»·ï¼‰ã€‚</li>
<li><strong>ä½¿ç”¨ç®¡ç†å‘˜æƒé™</strong>æ‰§è¡Œ robocopy å‘½ä»¤ï¼Œæˆ–è€…ä½¿ç”¨ &#x2F;COPY:DT å‚æ•°è§„é¿æ–‡ä»¶å±æ€§å¤åˆ¶ï¼›</li>
<li>åœ¨æ‰§è¡Œå‰ï¼Œä»”ç»†æ£€æŸ¥ robocopy å‘½ä»¤ï¼Œå°¤å…¶æ˜¯å¼€å¯äº† <strong>&#x2F;MIR</strong> å‚æ•°çš„å‘½ä»¤ï¼Œé˜²æ­¢æ„å¤–åˆ é™¤æ–‡ä»¶ã€‚åœ¨å‘½ä»¤è¿è¡Œæ—¶ï¼Œå‘½ä»¤è¡Œä¼šå®æ—¶è¾“å‡ºå½“å‰æ­£åœ¨å¤åˆ¶çš„æºç›®å½•ã€‚è‹¥å‘ç°æ­£åœ¨ä¸€è¡Œè¡Œè¾“å‡ºçš„ç›®å½•æ˜¯è‡ªå·±çš„ç›®æ ‡ç›®å½•ï¼Œè¯´æ˜è®¾ç½®åäº†æ–¹å‘ï¼Œç«‹å³æŒ‰ä¸‹ <strong>Ctrl+C</strong> ç»ˆæ­¢å‘½ä»¤ï¼›</li>
</ul>
<h2 id="ğŸŒå…³äºç¼–ç "><a href="#ğŸŒå…³äºç¼–ç " class="headerlink" title="ğŸŒå…³äºç¼–ç "></a>ğŸŒå…³äºç¼–ç </h2><p>ä½¿ç”¨è®°äº‹æœ¬çš„<code>å¦å­˜ä¸º</code>åŠŸèƒ½ï¼Œå¯ä»¥é€‰æ‹©ä¸º ANSI ç¼–ç ï¼›</p>
<p>ä½¿ç”¨ä¸“ä¸šç¼–è¾‘å™¨å¦‚ VS Code, Sublime Text, Notepad++ ç­‰ï¼Œåˆ™è®¾ç½®ä¸º GBK ç¼–ç ï¼ˆä¸æ˜¯ GB2312ï¼‰ã€‚</p>
<p>è‹¥è‡ªå·±ç¼–å†™å‘½ä»¤ç”Ÿæˆè½¯ä»¶ï¼Œåˆ™ç”Ÿæˆçš„æ‰¹å¤„ç†å¿…é¡»ä½¿ç”¨ GBKã€‚</p>
<p>å¦‚åœ¨ Python å†…é€šè¿‡å‘ open() å‡½æ•°ä¼ é€’ <code>encoding=&quot;gbk&quot;</code> æ¥æŒ‡åç¼–ç ã€‚</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">with</span> <span class="built_in">open</span>(<span class="string">&#x27;è‡ªåŠ¨ç”Ÿæˆ.bat&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, encoding=<span class="string">&#x27;gbk&#x27;</span>) <span class="keyword">as</span> f:</span><br><span class="line">    f.write(<span class="string">&#x27;robocopyå‘½ä»¤å­—ç¬¦ä¸²&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>è‹¥åœ¨ C# å†…ï¼Œä½¿ç”¨å¦‚ä¸‹ä»£ç ï¼š</p>
<figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System.Text;</span><br><span class="line"></span><br><span class="line">Encoding.RegisterProvider(CodePagesEncodingProvider.Instance);</span><br><span class="line"><span class="built_in">string</span> finalCmd = <span class="string">&quot;robocopyå‘½ä»¤å­—ç¬¦ä¸²&quot;</span>;</span><br><span class="line">System.IO.File.WriteAllText(<span class="string">&quot;è‡ªåŠ¨ç”Ÿæˆ.bat&quot;</span>, finalCmd, Encoding.GetEncoding(<span class="string">&quot;GBK&quot;</span>));</span><br></pre></td></tr></table></figure>

<h2 id="ğŸ—¡ï¸æ•°æ®åŒæ­¥å®æˆ˜"><a href="#ğŸ—¡ï¸æ•°æ®åŒæ­¥å®æˆ˜" class="headerlink" title="ğŸ—¡ï¸æ•°æ®åŒæ­¥å®æˆ˜"></a>ğŸ—¡ï¸æ•°æ®åŒæ­¥å®æˆ˜</h2><h3 id="æ–‡ä»¶å¤¹å•å‘åŒæ­¥"><a href="#æ–‡ä»¶å¤¹å•å‘åŒæ­¥" class="headerlink" title="æ–‡ä»¶å¤¹å•å‘åŒæ­¥"></a>æ–‡ä»¶å¤¹å•å‘åŒæ­¥</h3><p>ä¾‹å¦‚ï¼ŒæŠŠ <code>D:\test</code> é•œåƒåŒæ­¥åˆ° <code>E:\test</code> ä¸‹ï¼Œè¿™å°†ä¿è¯ E:\test ä¸ D:\test å®Œå…¨ä¸€è‡´ï¼Œæ¥è‡ª D çš„æ–‡ä»¶å°†è¦†ç›– E çš„æ–‡ä»¶ï¼ŒE ä¸­å¤šä½™çš„æ–‡ä»¶å°†è¢«åˆ é™¤ï¼Œé€‚ç”¨äºæ–‡ä»¶å¤¹çš„å•å‘åŒæ­¥ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">robocopy &quot;D:\test&quot; &quot;E:\test&quot; /MIR /MT:1</span><br></pre></td></tr></table></figure>

<h3 id="æ–‡ä»¶å¤¹åŒæ­¥åˆ°å†·å¤‡ä»½ç¡¬ç›˜"><a href="#æ–‡ä»¶å¤¹åŒæ­¥åˆ°å†·å¤‡ä»½ç¡¬ç›˜" class="headerlink" title="æ–‡ä»¶å¤¹åŒæ­¥åˆ°å†·å¤‡ä»½ç¡¬ç›˜"></a>æ–‡ä»¶å¤¹åŒæ­¥åˆ°å†·å¤‡ä»½ç¡¬ç›˜</h3><p>æŠŠ <code>D:\test</code> é•œåƒåŒæ­¥åˆ° <code>E:\test</code> ä¸‹ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">robocopy &quot;D:\test&quot; &quot;E:\test&quot; /MIR /MT:1</span><br></pre></td></tr></table></figure>

<h3 id="æ–‡ä»¶å¤¹æ™®é€šå¤åˆ¶å¤‡ä»½"><a href="#æ–‡ä»¶å¤¹æ™®é€šå¤åˆ¶å¤‡ä»½" class="headerlink" title="æ–‡ä»¶å¤¹æ™®é€šå¤åˆ¶å¤‡ä»½"></a>æ–‡ä»¶å¤¹æ™®é€šå¤åˆ¶å¤‡ä»½</h3><p>æŠŠ <code>D:\test</code> æ™®é€šåŒæ­¥åˆ° <code>E:\test</code> ä¸‹ï¼Œä¸åˆ é™¤ä¸åŒçš„æ–‡ä»¶ï¼Œç­‰ä»·äºå¤åˆ¶æ—¶é€‰æ‹©æ›¿æ¢é‡åæ–‡ä»¶ ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">robocopy &quot;D:\test&quot; &quot;E:\test&quot; /S /MT:1</span><br></pre></td></tr></table></figure>

<h3 id="ä¸å¤åˆ¶æ–‡ä»¶çš„å±æ€§"><a href="#ä¸å¤åˆ¶æ–‡ä»¶çš„å±æ€§" class="headerlink" title="ä¸å¤åˆ¶æ–‡ä»¶çš„å±æ€§"></a>ä¸å¤åˆ¶æ–‡ä»¶çš„å±æ€§</h3><p>æŠŠ <code>D:\test</code> é•œåƒåŒæ­¥åˆ° <code>E:\test</code> ä¸‹ï¼Œä½¿ç”¨ <code>/COPY:DT</code> ä¸ä¿ç•™æ–‡ä»¶çš„å±æ€§ï¼Œé€‚ç”¨äºä¸ä½¿ç”¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">robocopy &quot;D:\test&quot; &quot;E:\test&quot; /MIR /COPY:DT /MT:1</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ä»¥ä¸Šå‘½ä»¤æ—¶ï¼Œå¯èƒ½é‡åˆ°<strong>æ–‡ä»¶å±æ€§</strong>å’Œ<strong>æ— æ³•æ‰¾åˆ°æ–‡ä»¶</strong>çš„é—®é¢˜ï¼Œå¦‚é‡åˆ°åˆ™ä»ç„¶ä½¿ç”¨<strong>ç®¡ç†å‘˜èº«ä»½</strong>è¿è¡Œå³å¯è§£å†³ã€‚</p>
<h2 id="éƒ¨åˆ†é€‰é¡¹"><a href="#éƒ¨åˆ†é€‰é¡¹" class="headerlink" title="éƒ¨åˆ†é€‰é¡¹"></a>éƒ¨åˆ†é€‰é¡¹</h2><table>
<thead>
<tr>
<th align="left">é€‰é¡¹</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&#x2F;s</td>
<td align="left">å¤åˆ¶å­ç›®å½•ã€‚ æ­¤é€‰é¡¹è‡ªåŠ¨æ’é™¤ç©ºç›®å½•ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;e</td>
<td align="left">å¤åˆ¶å­ç›®å½•ã€‚ æ­¤é€‰é¡¹è‡ªåŠ¨åŒ…æ‹¬ç©ºç›®å½•ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;levï¼š<code>&lt;n&gt;</code></td>
<td align="left">ä»…å¤åˆ¶æºç›®å½•æ ‘çš„å‰ <em>n</em> ä¸ªçº§åˆ«ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;z</td>
<td align="left">ä»¥å¯é‡å¯æ¨¡å¼å¤åˆ¶æ–‡ä»¶ã€‚ åœ¨å¯é‡å¯æ¨¡å¼ä¸‹ï¼Œå¦‚æœæ–‡ä»¶å‰¯æœ¬ä¸­æ–­ï¼ŒRobocopy å¯ä»¥é€‰å–å®ƒç¦»å¼€çš„ä½ç½®ï¼Œè€Œä¸æ˜¯é‡æ–°å¤åˆ¶æ•´ä¸ªæ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;b</td>
<td align="left">åœ¨å¤‡ä»½æ¨¡å¼ä¸‹å¤åˆ¶æ–‡ä»¶ã€‚ å¤‡ä»½æ¨¡å¼å…è®¸ Robocopy (ACL) æ›¿ä»£æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æƒé™è®¾ç½®ã€‚ è¿™æ ·ï¼Œå°±å¯ä»¥å¤åˆ¶ä½ å¯èƒ½æ— æƒè®¿é—®çš„æ–‡ä»¶ï¼Œå‰ææ˜¯è¯¥æ–‡ä»¶åœ¨å…·æœ‰è¶³å¤Ÿæƒé™çš„å¸æˆ·ä¸‹è¿è¡Œã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;zb</td>
<td align="left">ä»¥å¯é‡å¯æ¨¡å¼å¤åˆ¶æ–‡ä»¶ã€‚ å¦‚æœæ–‡ä»¶è®¿é—®è¢«æ‹’ç»ï¼Œè¯·åˆ‡æ¢åˆ°å¤‡ä»½æ¨¡å¼ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;j</td>
<td align="left">ä½¿ç”¨å»ºè®®ç”¨äºå¤§å‹æ–‡ä»¶) ä½¿ç”¨æ— ç¼“å†²åŒº I&#x2F;O (çš„å‰¯æœ¬ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;efsraw</td>
<td align="left">å¤åˆ¶ EFS RAW æ¨¡å¼ä¸‹çš„æ‰€æœ‰åŠ å¯†æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;copyï¼š<code>&lt;copyflags&gt;</code></td>
<td align="left">æŒ‡å®šè¦å¤åˆ¶çš„æ–‡ä»¶å±æ€§ã€‚ æ­¤é€‰é¡¹çš„æœ‰æ•ˆå€¼ä¸ºï¼š<strong>D</strong> - æ•°æ®<strong>A</strong> - å±æ€§<strong>T</strong> - æ—¶é—´æˆ³<strong>S</strong> - NTFS è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL)<strong>O</strong> - æ‰€æœ‰è€…ä¿¡æ¯<strong>U</strong> - å®¡æ ¸ä¿¡æ¯æ­¤é€‰é¡¹çš„é»˜è®¤å€¼ä¸º <strong>DAT</strong> (æ•°æ®ã€å±æ€§å’Œæ—¶é—´æˆ³) ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;dcopyï¼š<code>&lt;copyflags&gt;</code></td>
<td align="left">æŒ‡å®šè¦åœ¨ç›®å½•ä¸­å¤åˆ¶çš„å†…å®¹ã€‚ æ­¤é€‰é¡¹çš„æœ‰æ•ˆå€¼ä¸ºï¼š<strong>D</strong> - æ•°æ®<strong>A</strong> - å±æ€§<strong>T</strong> - æ—¶é—´æˆ³æ­¤é€‰é¡¹çš„é»˜è®¤å€¼ä¸º <strong>DA</strong> (æ•°æ®å’Œå±æ€§) ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;ç§’</td>
<td align="left">å¤åˆ¶å®‰å…¨ (ç­‰æ•ˆ <strong>äº &#x2F;copyï¼šDATS</strong>) çš„æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;copyall</td>
<td align="left">å¤åˆ¶ä¸ <strong>&#x2F;copyï¼šDATSOU</strong>) ç­‰æ•ˆçš„æ‰€æœ‰æ–‡ä»¶ä¿¡æ¯ (ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;nocopy</td>
<td align="left">å¤åˆ¶ä»»ä½•æ–‡ä»¶ä¿¡æ¯ï¼Œ (<strong>&#x2F;purge</strong>) å¾ˆæœ‰ç”¨ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;secfix</td>
<td align="left">ä¿®å¤äº†æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶å®‰å…¨æ€§ï¼Œç”šè‡³è·³è¿‡äº†è¿™äº›æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;timfix</td>
<td align="left">ä¿®å¤äº†æ‰€æœ‰æ–‡ä»¶çš„æ–‡ä»¶æ—¶é—´ï¼Œç”šè‡³è·³è¿‡äº†è¿™äº›æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;purge</td>
<td align="left">åˆ é™¤æºä¸­ä¸å†å­˜åœ¨çš„ç›®æ ‡æ–‡ä»¶å’Œç›®å½•ã€‚ å°†æ­¤é€‰é¡¹ä¸ <strong>&#x2F;e</strong> é€‰é¡¹å’Œç›®æ ‡ç›®å½•ç»“åˆä½¿ç”¨ï¼Œå…è®¸ä¸è¦†ç›–ç›®æ ‡ç›®å½•å®‰å…¨è®¾ç½®ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;mir</td>
<td align="left">é•œåƒä¸ <strong>&#x2F;e</strong> å’Œ <strong>&#x2F;purge</strong>) ç­‰æ•ˆçš„ç›®å½•æ ‘ (ã€‚ å°†æ­¤é€‰é¡¹ä¸ <strong>&#x2F;e</strong> é€‰é¡¹å’Œç›®æ ‡ç›®å½•ç»“åˆä½¿ç”¨ï¼Œè¦†ç›–ç›®æ ‡ç›®å½•å®‰å…¨è®¾ç½®ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;mov</td>
<td align="left">ç§»åŠ¨æ–‡ä»¶ï¼Œå¹¶åœ¨å¤åˆ¶æ–‡ä»¶åä»æºä¸­åˆ é™¤è¿™äº›æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;move</td>
<td align="left">ç§»åŠ¨æ–‡ä»¶å’Œç›®å½•ï¼Œå¹¶åœ¨å¤åˆ¶è¿™äº›æ–‡ä»¶å’Œç›®å½•åä»æºä¸­åˆ é™¤å®ƒä»¬ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;a+ï¼š[RASHCNET]</td>
<td align="left">å°†æŒ‡å®šçš„å±æ€§æ·»åŠ åˆ°å¤åˆ¶çš„æ–‡ä»¶ã€‚ æ­¤é€‰é¡¹çš„æœ‰æ•ˆå€¼ä¸ºï¼š<strong>R</strong> - åªè¯»<strong>A</strong> - å­˜æ¡£<strong>S</strong> - ç³»ç»Ÿ<strong>H</strong> - éšè—<strong>C</strong> - å‹ç¼©<strong>N</strong> - æœªç¼–åˆ¶ç´¢å¼•çš„å†…å®¹<strong>E</strong> - åŠ å¯†<strong>T</strong> - ä¸´æ—¶</td>
</tr>
<tr>
<td align="left">&#x2F;a-ï¼š[RASHCNET]</td>
<td align="left">ä»å¤åˆ¶çš„æ–‡ä»¶ä¸­åˆ é™¤æŒ‡å®šçš„å±æ€§ã€‚ æ­¤é€‰é¡¹çš„æœ‰æ•ˆå€¼ä¸ºï¼š<strong>R</strong> - åªè¯»<strong>A</strong> - å­˜æ¡£<strong>S</strong> - ç³»ç»Ÿ<strong>H</strong> - éšè—<strong>C</strong> - å‹ç¼©<strong>N</strong> - æœªç¼–åˆ¶ç´¢å¼•çš„å†…å®¹<strong>E</strong> - åŠ å¯†<strong>T</strong> - ä¸´æ—¶</td>
</tr>
<tr>
<td align="left">&#x2F;create</td>
<td align="left">ä»…åˆ›å»ºç›®å½•æ ‘å’Œé›¶é•¿åº¦æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;fat</td>
<td align="left">ä»…ä½¿ç”¨ 8.3 ä¸ªå­—ç¬¦é•¿åº¦çš„ FAT æ–‡ä»¶ååˆ›å»ºç›®æ ‡æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;256</td>
<td align="left">å…³é—­å¯¹è¶…è¿‡ 256 ä¸ªå­—ç¬¦çš„è·¯å¾„çš„æ”¯æŒã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;monï¼š<code>&lt;n&gt;</code></td>
<td align="left">ç›‘è§†æºï¼Œå¹¶åœ¨æ£€æµ‹åˆ°è¶…è¿‡ <em>n ä¸ª</em> æ›´æ”¹æ—¶å†æ¬¡è¿è¡Œã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;motï¼š<code>&lt;m&gt;</code></td>
<td align="left">ç›‘è§†æºï¼Œå¹¶åœ¨æ£€æµ‹åˆ°æ›´æ”¹æ—¶ä»¥ <em>m</em> åˆ†é’Ÿä¸ºå•ä½å†æ¬¡è¿è¡Œã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;mt<code>[:n]</code></td>
<td align="left">ä½¿ç”¨ <em>n</em> ä¸ªçº¿ç¨‹åˆ›å»ºå¤šçº¿ç¨‹å‰¯æœ¬ã€‚ <em>n</em> å¿…é¡»æ˜¯ä»‹äº 1 å’Œ 128 ä¹‹é—´çš„æ•´æ•°ã€‚ <em>n</em> çš„é»˜è®¤å€¼ä¸º 8ã€‚ ä¸ºäº†æé«˜æ€§èƒ½ï¼Œè¯·ä½¿ç”¨ <strong>&#x2F;log</strong> é€‰é¡¹é‡å®šå‘è¾“å‡ºã€‚<strong>&#x2F;mt</strong> å‚æ•°ä¸èƒ½ä¸ <strong>&#x2F;ipg</strong> å’Œ <strong>&#x2F;efsraw</strong> å‚æ•°ä¸€èµ·ä½¿ç”¨ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;rhï¼šhhmm-hhmm</td>
<td align="left">æŒ‡å®šå¯ä»¥å¯åŠ¨æ–°å‰¯æœ¬çš„è¿è¡Œæ—¶é—´ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;pf</td>
<td align="left">æ£€æŸ¥æ¯ä¸ªæ–‡ä»¶çš„è¿è¡Œæ—¶é—´ï¼Œ (ä¸æŒ‰ä¼ é€’) ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;ipgï¼šn</td>
<td align="left">æŒ‡å®šæ•°æ®åŒ…é—´å·®è·ï¼Œä»¥åœ¨æ…¢é€Ÿçº¿è·¯ä¸Šé‡Šæ”¾å¸¦å®½ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;sj</td>
<td align="left">å°†è¿æ¥ (è½¯é“¾æ¥) å¤åˆ¶åˆ°ç›®æ ‡è·¯å¾„è€Œä¸æ˜¯é“¾æ¥ç›®æ ‡ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;sl</td>
<td align="left">ä¸è¦å…³æ³¨ç¬¦å·é“¾æ¥ï¼Œè€Œæ˜¯åˆ›å»ºé“¾æ¥çš„å‰¯æœ¬ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;nodcopy</td>
<td align="left">(é»˜è®¤ <strong>&#x2F;dcopyï¼šDA</strong>) ä¸å¤åˆ¶ä»»ä½•ç›®å½•ä¿¡æ¯ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;nooffload</td>
<td align="left">åœ¨ä¸ä½¿ç”¨ Windows å¤åˆ¶å¸è½½æœºåˆ¶çš„æƒ…å†µä¸‹å¤åˆ¶æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;compress</td>
<td align="left">è¯·æ±‚æ–‡ä»¶ä¼ è¾“æœŸé—´çš„ç½‘ç»œå‹ç¼©ï¼ˆå¦‚æœé€‚ç”¨ï¼‰ã€‚</td>
</tr>
</tbody></table>
<h2 id="é€€å‡º-è¿”å›-ä»£ç "><a href="#é€€å‡º-è¿”å›-ä»£ç " class="headerlink" title="é€€å‡º (è¿”å›) ä»£ç "></a>é€€å‡º (è¿”å›) ä»£ç </h2><table>
<thead>
<tr>
<th align="left">Value</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">0</td>
<td align="left">æœªå¤åˆ¶ä»»ä½•æ–‡ä»¶ã€‚ æœªé‡åˆ°ä»»ä½•å¤±è´¥ã€‚ æ²¡æœ‰ä¸åŒ¹é…çš„æ–‡ä»¶ã€‚ ç›®æ ‡ç›®å½•ä¸­å·²å­˜åœ¨è¿™äº›æ–‡ä»¶;å› æ­¤ï¼Œè·³è¿‡äº†å¤åˆ¶æ“ä½œã€‚</td>
</tr>
<tr>
<td align="left">1</td>
<td align="left">å·²æˆåŠŸå¤åˆ¶æ‰€æœ‰æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">2</td>
<td align="left">ç›®æ ‡ç›®å½•ä¸­å­˜åœ¨ä¸€äº›å…¶ä»–æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶ä¸åœ¨æºç›®å½•ä¸­ã€‚ æœªå¤åˆ¶ä»»ä½•æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">3</td>
<td align="left">å¤åˆ¶äº†ä¸€äº›æ–‡ä»¶ã€‚ å­˜åœ¨å…¶ä»–æ–‡ä»¶ã€‚ æœªé‡åˆ°ä»»ä½•å¤±è´¥ã€‚</td>
</tr>
<tr>
<td align="left">5</td>
<td align="left">å¤åˆ¶äº†ä¸€äº›æ–‡ä»¶ã€‚ æŸäº›æ–‡ä»¶ä¸åŒ¹é…ã€‚ æœªé‡åˆ°ä»»ä½•å¤±è´¥ã€‚</td>
</tr>
<tr>
<td align="left">6</td>
<td align="left">å­˜åœ¨å…¶ä»–æ–‡ä»¶å’Œä¸åŒ¹é…çš„æ–‡ä»¶ã€‚ æœªå¤åˆ¶ä»»ä½•æ–‡ä»¶ï¼Œä¹Ÿä¸ä¼šé‡åˆ°ä»»ä½•æ•…éšœã€‚ è¿™æ„å‘³ç€æ–‡ä»¶å·²å­˜åœ¨äºç›®æ ‡ç›®å½•ä¸­ã€‚</td>
</tr>
<tr>
<td align="left">7</td>
<td align="left">æ–‡ä»¶å·²å¤åˆ¶ï¼Œå­˜åœ¨æ–‡ä»¶ä¸åŒ¹é…ï¼Œå¹¶ä¸”å­˜åœ¨å…¶ä»–æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">8</td>
<td align="left">å¤šä¸ªæ–‡ä»¶æœªå¤åˆ¶ã€‚</td>
</tr>
</tbody></table>
<h2 id="é™„ï¼šè‡ªåŠ¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"><a href="#é™„ï¼šè‡ªåŠ¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ" class="headerlink" title="é™„ï¼šè‡ªåŠ¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ"></a>é™„ï¼šè‡ªåŠ¨ç®¡ç†å‘˜èº«ä»½è¿è¡Œ</h2><p>å°†ä»¥ä¸‹å‘½ä»¤å¤åˆ¶åˆ°ä¸€ä¸ª bat æ–‡ä»¶ä¸­ï¼ŒåŒå‡»å³å¯ç®¡ç†å‘˜èº«ä»½è¿è¡Œã€‚æ³¨æ„ç”¨ ANSI æˆ–è€… GBK ç¼–ç æ‰¹å¤„ç†æ–‡ä»¶ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">rem ============å›ºå®šæ¨¡æ¿1å¼€å§‹============</span><br><span class="line">@ECHO OFF</span><br><span class="line">setlocal EnableDelayedExpansion</span><br><span class="line">PUSHD %~DP0 &amp; cd /d &quot;%~dp0&quot;</span><br><span class="line">%1 %2</span><br><span class="line">mshta vbscript:createobject(&quot;shell.application&quot;).shellexecute(&quot;%~s0&quot;,&quot;goto :target&quot;,&quot;&quot;,&quot;runas&quot;,1)(window.close)&amp;goto :eof</span><br><span class="line">:target</span><br><span class="line">rem ============å›ºå®šæ¨¡æ¿1ç»“æŸ============</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">robocopy &quot;F:\è½¬ç§»æ–‡ä»¶\to&quot; &quot;F:\è½¬ç§»æ–‡ä»¶\from&quot; /MIR /MT:1</span><br><span class="line">robocopy &quot;F:\è½¬ç§»æ–‡ä»¶\to1&quot; &quot;F:\è½¬ç§»æ–‡ä»¶\from1&quot; /MIR /MT:1</span><br><span class="line">echo æ‰€æœ‰ç›®å½•å‡å®ŒæˆåŒæ­¥</span><br><span class="line"></span><br><span class="line">rem ============å›ºå®šæ¨¡æ¿2å¼€å§‹============</span><br><span class="line">pause &gt; nul</span><br><span class="line">exit</span><br><span class="line">rem ============å›ºå®šæ¨¡æ¿2ç»“æŸ============</span><br></pre></td></tr></table></figure>

</div></div><a class="button-hover more" href="/2025/01/24/robocopy-in-real-action/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/24/git-commit-standard/">å¦‚ä½•è§„èŒƒä½ çš„ Git commit</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-25</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/dev/">dev</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/git/">git</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/GitHub/">GitHub</a></div></div><div class="post-content"><div class="main-content content"><h1 id="å¦‚ä½•è§„èŒƒä½ çš„Git-commit"><a href="#å¦‚ä½•è§„èŒƒä½ çš„Git-commit" class="headerlink" title="å¦‚ä½•è§„èŒƒä½ çš„Git commit"></a>å¦‚ä½•è§„èŒƒä½ çš„Git commit</h1><p>æœ¬æ–‡ä¸ºè½¬è½½</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/182553920">å¦‚ä½•è§„èŒƒä½ çš„Git commitï¼Ÿ - çŸ¥ä¹ (zhihu.com)</a></p>
<h2 id="è§„èŒƒæ¢³ç†"><a href="#è§„èŒƒæ¢³ç†" class="headerlink" title="è§„èŒƒæ¢³ç†"></a>è§„èŒƒæ¢³ç†</h2><p>åˆæœŸæˆ‘ä»¬åœ¨äº’è”ç½‘ä¸Šæœç´¢äº†å¤§é‡æœ‰å…³git commitè§„èŒƒçš„èµ„æ–™ï¼Œä½†åªæœ‰Angularè§„èŒƒæ˜¯ç›®å‰ä½¿ç”¨æœ€å¹¿çš„å†™æ³•ï¼Œæ¯”è¾ƒåˆç†å’Œç³»ç»ŸåŒ–ï¼Œå¹¶ä¸”æœ‰é…å¥—çš„å·¥å…·ï¼ˆIDEAå°±æœ‰æ’ä»¶æ”¯æŒè¿™ç§å†™æ³•ï¼‰ã€‚æœ€åç»¼åˆé˜¿é‡Œå·´å·´é«˜å¾·åœ°å›¾ç›¸å…³éƒ¨é—¨å·²æœ‰çš„è§„èŒƒæ€»ç»“å‡ºäº†ä¸€å¥—git commitè§„èŒƒã€‚</p>
<h3 id="commit-messageæ ¼å¼"><a href="#commit-messageæ ¼å¼" class="headerlink" title="commit messageæ ¼å¼"></a>commit messageæ ¼å¼</h3><figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;type&gt;(&lt;scope&gt;): &lt;subject&gt;</span><br></pre></td></tr></table></figure>

<h3 id="type-å¿…é¡»"><a href="#type-å¿…é¡»" class="headerlink" title="type(å¿…é¡»)"></a>type(å¿…é¡»)</h3><p>ç”¨äºè¯´æ˜git commitçš„ç±»åˆ«ï¼Œåªå…è®¸ä½¿ç”¨ä¸‹é¢çš„æ ‡è¯†ã€‚</p>
<p><code>feat</code>ï¼šæ–°åŠŸèƒ½ï¼ˆfeatureï¼‰ã€‚</p>
<p><code>fix/to</code>ï¼šä¿®å¤bugï¼Œå¯ä»¥æ˜¯QAå‘ç°çš„BUGï¼Œä¹Ÿå¯ä»¥æ˜¯ç ”å‘è‡ªå·±å‘ç°çš„BUGã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">// ç¤ºä¾‹1</span><br><span class="line">fix(global):ä¿®å¤checkboxä¸èƒ½å¤é€‰çš„é—®é¢˜</span><br><span class="line"></span><br><span class="line">// ç¤ºä¾‹2 ä¸‹é¢åœ†æ‹¬å·é‡Œçš„ common ä¸ºé€šç”¨ç®¡ç†çš„åç§°</span><br><span class="line">fix(common): ä¿®å¤å­—ä½“è¿‡å°çš„BUGï¼Œå°†é€šç”¨ç®¡ç†ä¸‹æ‰€æœ‰é¡µé¢çš„é»˜è®¤å­—ä½“å¤§å°ä¿®æ”¹ä¸º 14px</span><br><span class="line"></span><br><span class="line">// ç¤ºä¾‹3</span><br><span class="line">fix: value.length -&gt; values.length</span><br></pre></td></tr></table></figure>

<ul>
<li>fixï¼šäº§ç”Ÿdiffå¹¶è‡ªåŠ¨ä¿®å¤æ­¤é—®é¢˜ã€‚é€‚åˆäºä¸€æ¬¡æäº¤ç›´æ¥ä¿®å¤é—®é¢˜</li>
<li>toï¼šåªäº§ç”Ÿdiffä¸è‡ªåŠ¨ä¿®å¤æ­¤é—®é¢˜ã€‚é€‚åˆäºå¤šæ¬¡æäº¤ã€‚æœ€ç»ˆä¿®å¤é—®é¢˜æäº¤æ—¶ä½¿ç”¨fix</li>
</ul>
<p><code>docs</code>ï¼šæ–‡æ¡£ï¼ˆdocumentationï¼‰ã€‚</p>
<p><code>style</code>ï¼šæ ¼å¼ï¼ˆä¸å½±å“ä»£ç è¿è¡Œçš„å˜åŠ¨ï¼‰ã€‚</p>
<p><code>refactor</code>ï¼šé‡æ„ï¼ˆå³ä¸æ˜¯æ–°å¢åŠŸèƒ½ï¼Œä¹Ÿä¸æ˜¯ä¿®æ”¹bugçš„ä»£ç å˜åŠ¨ï¼‰ã€‚</p>
<p><code>perf</code>ï¼šä¼˜åŒ–ç›¸å…³ï¼Œæ¯”å¦‚æå‡æ€§èƒ½ã€ä½“éªŒã€‚</p>
<p><code>test</code>ï¼šå¢åŠ æµ‹è¯•ã€‚</p>
<p><code>chore</code>ï¼šæ„å»ºè¿‡ç¨‹æˆ–è¾…åŠ©å·¥å…·çš„å˜åŠ¨ã€‚</p>
<p><code>revert</code>ï¼šå›æ»šåˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬ã€‚</p>
<p><code>merge</code>ï¼šä»£ç åˆå¹¶ã€‚</p>
<p><code>sync</code>ï¼šåŒæ­¥ä¸»çº¿æˆ–åˆ†æ”¯çš„Bugã€‚</p>
<h3 id="scope-å¯é€‰"><a href="#scope-å¯é€‰" class="headerlink" title="scope(å¯é€‰)"></a>scope(å¯é€‰)</h3><p>scopeç”¨äºè¯´æ˜ commit å½±å“çš„èŒƒå›´ï¼Œæ¯”å¦‚æ•°æ®å±‚ã€æ§åˆ¶å±‚ã€è§†å›¾å±‚ç­‰ç­‰ï¼Œè§†é¡¹ç›®ä¸åŒè€Œä¸åŒã€‚</p>
<p>ä¾‹å¦‚åœ¨Angularï¼Œå¯ä»¥æ˜¯locationï¼Œbrowserï¼Œcompileï¼Œcompileï¼ŒrootScopeï¼Œ ngHrefï¼ŒngClickï¼ŒngViewç­‰ã€‚å¦‚æœä½ çš„ä¿®æ”¹å½±å“äº†ä¸æ­¢ä¸€ä¸ªscopeï¼Œä½ å¯ä»¥ä½¿ç”¨*ä»£æ›¿ã€‚</p>
<h3 id="subject-å¿…é¡»"><a href="#subject-å¿…é¡»" class="headerlink" title="subject(å¿…é¡»)"></a>subject(å¿…é¡»)</h3><p>subjectæ˜¯commitç›®çš„çš„ç®€çŸ­æè¿°ï¼Œä¸è¶…è¿‡50ä¸ªå­—ç¬¦ã€‚</p>
<ul>
<li>ç»“å°¾ä¸åŠ å¥å·æˆ–å…¶ä»–æ ‡ç‚¹ç¬¦å·ã€‚</li>
<li>æ ¹æ®ä»¥ä¸Šè§„èŒƒgit commit messageå°†æ˜¯å¦‚ä¸‹çš„æ ¼å¼ï¼š</li>
</ul>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">fix(DAO):ç”¨æˆ·æŸ¥è¯¢ç¼ºå°‘usernameå±æ€§ </span><br><span class="line">feat(Controller):ç”¨æˆ·æŸ¥è¯¢æ¥å£å¼€å‘</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå°±æ˜¯æˆ‘ä»¬æ¢³ç†çš„git commitè§„èŒƒï¼Œé‚£ä¹ˆæˆ‘ä»¬è¿™æ ·è§„èŒƒgit commitåˆ°åº•æœ‰å“ªäº›å¥½å¤„å‘¢ï¼Ÿ</p>
<ul>
<li>ä¾¿äºç¨‹åºå‘˜å¯¹æäº¤å†å²è¿›è¡Œè¿½æº¯ï¼Œäº†è§£å‘ç”Ÿäº†ä»€ä¹ˆæƒ…å†µã€‚</li>
<li>ä¸€æ—¦çº¦æŸäº†commit messageï¼Œæ„å‘³ç€æˆ‘ä»¬å°†æ…é‡çš„è¿›è¡Œæ¯ä¸€æ¬¡æäº¤ï¼Œä¸èƒ½å†ä¸€è‚¡è„‘çš„æŠŠå„ç§å„æ ·çš„æ”¹åŠ¨éƒ½æ”¾åœ¨ä¸€ä¸ªgit commité‡Œé¢ï¼Œè¿™æ ·ä¸€æ¥æ•´ä¸ªä»£ç æ”¹åŠ¨çš„å†å²ä¹Ÿå°†æ›´åŠ æ¸…æ™°ã€‚</li>
<li>æ ¼å¼åŒ–çš„commit messageæ‰å¯ä»¥ç”¨äºè‡ªåŠ¨åŒ–è¾“å‡ºChange logã€‚</li>
</ul>
</div></div><a class="button-hover more" href="/2025/01/24/git-commit-standard/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/24/js-express-problems/">express.js å¼€å‘å¸¸è§é—®é¢˜</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-24</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/javascript/">javascript</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/web/">web</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/express-js/">express.js</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/node-js/">node.js</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/javascript/">javascript</a></div></div><div class="post-content"><div class="main-content content"><h1 id="express-js-å¼€å‘å¸¸è§é—®é¢˜"><a href="#express-js-å¼€å‘å¸¸è§é—®é¢˜" class="headerlink" title="express.js å¼€å‘å¸¸è§é—®é¢˜"></a>express.js å¼€å‘å¸¸è§é—®é¢˜</h1><h2 id="æ— æ³•è®¿é—®cssã€jsç­‰"><a href="#æ— æ³•è®¿é—®cssã€jsç­‰" class="headerlink" title="æ— æ³•è®¿é—®cssã€jsç­‰"></a>æ— æ³•è®¿é—®cssã€jsç­‰</h2><p>æ·»åŠ é™æ€èµ„æºæ–‡ä»¶å¤¹</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> express = <span class="built_in">require</span>(<span class="string">&#x27;express&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> bodyParser = <span class="built_in">require</span>(<span class="string">&#x27;body-parser&#x27;</span>)</span><br><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> app = <span class="title function_">express</span>()</span><br><span class="line"></span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(path.<span class="title function_">join</span>(__dirname, <span class="string">&#x27;public&#x27;</span>)));</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;public&#x27;</span>));</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;./public&#x27;</span>));</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;./&#x27;</span>));</span><br><span class="line">app.<span class="title function_">use</span>(express.<span class="title function_">static</span>(<span class="string">&#x27;.&#x27;</span>));</span><br><span class="line">app.<span class="title function_">use</span>(bodyParser.<span class="title function_">urlencoded</span>(&#123; <span class="attr">extended</span>: <span class="literal">false</span> &#125;))</span><br><span class="line">app.<span class="title function_">use</span>(bodyParser.<span class="title function_">json</span>())</span><br></pre></td></tr></table></figure>

<h2 id="å…è®¸è·¨åŸŸ"><a href="#å…è®¸è·¨åŸŸ" class="headerlink" title="å…è®¸è·¨åŸŸ"></a>å…è®¸è·¨åŸŸ</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">app.<span class="title function_">all</span>(<span class="string">&#x27;*&#x27;</span>, <span class="keyword">function</span> (<span class="params">req, res, next</span>) &#123;</span><br><span class="line">	res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="string">&#x27;*&#x27;</span>)</span><br><span class="line">	res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Headers&#x27;</span>, <span class="string">&#x27;X-Requested-With,Content-Type&#x27;</span>)</span><br><span class="line">	res.<span class="title function_">header</span>(<span class="string">&#x27;Access-Control-Allow-Methods&#x27;</span>, <span class="string">&#x27;GET,POST,OPTIONS&#x27;</span>)</span><br><span class="line">	<span class="title function_">next</span>()</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<h2 id="æœ¬æœºIPåœ°å€"><a href="#æœ¬æœºIPåœ°å€" class="headerlink" title="æœ¬æœºIPåœ°å€"></a>æœ¬æœºIPåœ°å€</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> os = <span class="built_in">require</span>(<span class="string">&#x27;os&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–å½“å‰æœºå™¨çš„ipåœ°å€</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getIpAddress</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> ifaces = os.<span class="title function_">networkInterfaces</span>()</span><br><span class="line">	<span class="keyword">for</span> (<span class="keyword">var</span> dev <span class="keyword">in</span> ifaces) &#123;</span><br><span class="line">		<span class="keyword">let</span> iface = ifaces[dev]</span><br><span class="line">		<span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; iface.<span class="property">length</span>; i++) &#123;</span><br><span class="line">			<span class="keyword">let</span> &#123; family, address, internal &#125; = iface[i]</span><br><span class="line">			<span class="keyword">if</span> (family === <span class="string">&#x27;IPv4&#x27;</span> &amp;&amp; address !== <span class="string">&#x27;127.0.0.1&#x27;</span> &amp;&amp; !internal) &#123;</span><br><span class="line">				<span class="keyword">return</span> address</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="äºŒç»´ç å‘½ä»¤è¡Œæ‰“å°"><a href="#äºŒç»´ç å‘½ä»¤è¡Œæ‰“å°" class="headerlink" title="äºŒç»´ç å‘½ä»¤è¡Œæ‰“å°"></a>äºŒç»´ç å‘½ä»¤è¡Œæ‰“å°</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> qrcode = <span class="built_in">require</span>(<span class="string">&#x27;qrcode-terminal&#x27;</span>)</span><br><span class="line"></span><br><span class="line">qrcode.<span class="title function_">generate</span>(<span class="string">`http://<span class="subst">$&#123;ip&#125;</span>:<span class="subst">$&#123;PORT&#125;</span>`</span>, &#123; <span class="attr">small</span>: <span class="literal">true</span> &#125;)</span><br></pre></td></tr></table></figure>

<h2 id="å±€åŸŸç½‘æ— æ³•è®¿é—®"><a href="#å±€åŸŸç½‘æ— æ³•è®¿é—®" class="headerlink" title="å±€åŸŸç½‘æ— æ³•è®¿é—®"></a>å±€åŸŸç½‘æ— æ³•è®¿é—®</h2><p>å…³é—­ç³»ç»Ÿé˜²ç«å¢™ï¼Œè®¾ç½®windowsã€Œä¸“æœ‰ç½‘ç»œã€</p>
</div></div><a class="button-hover more" href="/2025/01/24/js-express-problems/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/24/edge-gray-video/">edgeæµè§ˆå™¨éå…¨å±çœ‹è§†é¢‘å˜ç°</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-24</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/software/">software</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/microsoft/">microsoft</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/edge/">edge</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/video/">video</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/internet/">internet</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/troubleshoot/">troubleshoot</a></div></div><div class="post-content"><div class="main-content content"><h1 id="edgeæµè§ˆå™¨éå…¨å±çœ‹è§†é¢‘å˜ç°"><a href="#edgeæµè§ˆå™¨éå…¨å±çœ‹è§†é¢‘å˜ç°" class="headerlink" title="edgeæµè§ˆå™¨éå…¨å±çœ‹è§†é¢‘å˜ç°"></a>edgeæµè§ˆå™¨éå…¨å±çœ‹è§†é¢‘å˜ç°</h1><p>åœ¨çº¿è§‚çœ‹éå…¨å±è§†é¢‘çš„æ—¶å€™ï¼Œç‚¹å‡»æ’­æ”¾å¤´ä¸¤ç§’æ˜¯æ­£å¸¸çš„ï¼Œç´§æ¥ç€å°±è’™ä¸Šä¸€å±‚ç°ä¸€æ ·ã€‚ç„¶åç‚¹å‡»å…¶ä»–æ ‡ç­¾é¡µåˆåˆ‡å›æ¥ï¼Œåˆä¸€ä¸ªå¾ªç¯ã€‚</p>
<h2 id="D3D11on12"><a href="#D3D11on12" class="headerlink" title="D3D11on12"></a>D3D11on12</h2><p>edge åœ°å€æ¡†è¾“å…¥ <code>edge://flags</code> æ¥ç€æœç´¢ <code>Choose ANGLE graphics backend</code> è®¾ç½®ä¸º <code>D3D11on12</code></p>
<p><strong>æ³¨æ„ï¼šç»è¿‡å®æµ‹è¿™ä¸ªåŠæ³•ä¼šå¯¼è‡´æµè§ˆå™¨æ„å¤–å´©æºƒ</strong>ï¼Œè®¾ç½®ä¸º D3D9 å³å¯é¿å…é—®é¢˜å‡ºç°ã€‚</p>
<h2 id="å…³é—­å¢å¼º"><a href="#å…³é—­å¢å¼º" class="headerlink" title="å…³é—­å¢å¼º"></a>å…³é—­å¢å¼º</h2><p>è¿›å…¥è®¾ç½® - éšç§ã€æœç´¢å’ŒæœåŠ¡ - å…³æ‰åœ¨Edgeä¸­å¢å¼ºå›¾åƒ</p>
<h2 id="Bç«™å¼¹å¹•å‘ç™½"><a href="#Bç«™å¼¹å¹•å‘ç™½" class="headerlink" title="Bç«™å¼¹å¹•å‘ç™½"></a>Bç«™å¼¹å¹•å‘ç™½</h2><p>åœ¨ NGA æœåˆ°çš„æŸæ–¹æ³•ï¼Œåº”è¯¥åŒæ—¶é€‚ç”¨äº edge å’Œ chromeï¼ˆæ¯•ç«Ÿå†…æ ¸ç›¸åŒï¼‰ã€‚åœ°å€æ è¾“å…¥ <code>edge://flags</code> æˆ– chrome:&#x2F;&#x2F;flagsï¼Œæœç´¢ <code>D3</code> ï¼Œå‡ºç°ä¸‹é¢è¿™ä¸ªé€‰é¡¹ã€‚é»˜è®¤æ˜¯ Defaultï¼Œç»é€ä¸ªæµ‹è¯•å‘ç°ï¼Œåªæœ‰ D3D9 èƒ½è®©å¼¹å¹•æ¢å¤æ­£å¸¸ã€‚</p>
<h2 id="æ–‡å­—å‘ç™½"><a href="#æ–‡å­—å‘ç™½" class="headerlink" title="æ–‡å­—å‘ç™½"></a>æ–‡å­—å‘ç™½</h2><p>è‹¥ç½‘é¡µæ–‡æœ¬å›¾æ ‡é¢œè‰²ä¹Ÿå¾ˆæš—æ·¡ç°ç™½ï¼Œedge åœ°å€æ¡†è¾“å…¥<code>edge://flags</code>æ¥ç€æœç´¢<code>Force color</code>è®¾ç½®ä¸º <code>sRGB</code></p>
</div></div><a class="button-hover more" href="/2025/01/24/edge-gray-video/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/24/nm3u8/">ä½¿ç”¨ N_m3u8 çš„ m3u8dl åè®®</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-24</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/software/">software</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/internet/">internet</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/m3u8/">m3u8</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/download/">download</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/opensource/">opensource</a></div></div><div class="post-content"><div class="main-content content"><blockquote>
<p>æœ¬æ–‡éƒ¨åˆ†æ¥è‡ª csdn ç­‰ç½‘ç»œèµ„æºã€‚</p>
</blockquote>
<h1 id="ä½¿ç”¨-N-m3u8-çš„-m3u8dl-åè®®"><a href="#ä½¿ç”¨-N-m3u8-çš„-m3u8dl-åè®®" class="headerlink" title="ä½¿ç”¨ N_m3u8 çš„ m3u8dl åè®®"></a>ä½¿ç”¨ N_m3u8 çš„ m3u8dl åè®®</h1><p>N_m3u8DL-CLI éå¸¸ä¼˜ç§€çš„ç¬¬ä¸‰æ–¹m3u8æ–‡ä»¶åˆå¹¶ä¸‹è½½å·¥å…·ï¼Œæ”¯æŒHLS m3u8å’ŒDASH mpd</p>
<p>ä¸‹è½½ [N_m3u8DL-CLI](<a target="_blank" rel="noopener" href="https://github.com/nilaoda/N_m3u8DL-CLI/releases">Releases Â· nilaoda&#x2F;N_m3u8DL-CLI (github.com)</a>)</p>
<p>å¦‚æœä½ ç”µè„‘é‡Œæ²¡æœ‰å®‰è£…ffmpeg è¯·ä¸‹è½½ N_m3u8DL-CLI_v3.0.*_with_ffmpeg_and_SimpleG.zip</p>
<p>è§£å‹å å»ºè®® N_m3u8DL-CLI_v3.0.*.exe <strong>é‡å‘½åä¸º m3u8dl.exe æˆ–å…¶ä»–å›ºå®šåç§°</strong>ã€‚å¦åˆ™æ¯æ¬¡æ›´æ–°ç‰ˆæœ¬éƒ½éœ€è¦é‡æ–°æ³¨å†Œåè®®ï¼Œä»¥åæ›´æ–°N_m3u8DL-CLIåªéœ€ä¿®æ”¹æ–‡ä»¶åæ›¿æ¢å³å¯ã€‚</p>
<p><strong>ä»¥åæ¯æ¬¡è°ƒç”¨åè®®ä¸‹è½½ï¼Œéƒ½æ˜¯ä¸‹è½½åˆ°æ³¨å†Œæ­¤ exe æ‰€åœ¨çš„æ–‡ä»¶å¤¹</strong></p>
<p>ä½¿ç”¨cmd è¿è¡Œ</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">m3u8dl.exe --registerUrlProtocol</span><br></pre></td></tr></table></figure>

<p>æ£€æŸ¥æ˜¯å¦å®Œæˆï¼Œåœ¨æµè§ˆå™¨åœ°å€æ è¾“å…¥ <code>m3u8dl:// </code>å›è½¦ æ˜¯å¦æœ‰å¦‚ä¸‹å¯¹è¯æ¡†</p>
<p><img src="https://img-blog.csdnimg.cn/6912f7046114414aaf5e0798f7c3f5dd.jpeg" alt="img"></p>
<p>çœ‹åˆ°æ­¤çª—å£ï¼Œæ­å–œä½ å·²ç»å®Œæˆäº†m3u8dl:&#x2F;&#x2F;åè®®çš„æ³¨å†Œï¼Œä¹‹ååœ¨çŒ«æŠ“è®¾ç½®ï¼Œå¼€å¯ è°ƒç”¨m3u8dl:&#x2F;&#x2F;åè®®ä¸‹è½½m3u8 å’Œ mpd é€‰é¡¹ï¼Œä½ å¯ä»¥è‡ªå®šä¹‰ä¿®æ”¹è°ƒç”¨å‚æ•°ï¼Œç‚¹å‡» æŸ¥çœ‹å‚æ•°è¯´æ˜ æŒ‰é’®æŸ¥çœ‹æ‰€æœ‰å‚æ•°åˆ—è¡¨ã€‚</p>
<p><img src="https://img-blog.csdnimg.cn/4937858fcad24071af36111230625cad.jpeg" alt="img"></p>
<p>å¦‚æœçŒ«æŠ“å—…æ¢åˆ°m3u8æˆ–mpdæ–‡ä»¶çš„å­˜åœ¨ï¼Œpopupé¡µé¢ç›´æ¥ç‚¹å‡»æ–‡ä»¶çš„ä¸‹è½½æŒ‰é’®ä¼šç›´æ¥è°ƒç”¨N_m3u8DL-CLIä¸‹è½½</p>
</div></div><a class="button-hover more" href="/2025/01/24/nm3u8/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/24/ffmpeg-gpu/">ä½¿ç”¨FFmpegè°ƒç”¨NVIDIA GPUå‹åˆ¶è§†é¢‘</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-24</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/software/">software</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/video/">video</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/ffmpeg/">ffmpeg</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/nvidia/">nvidia</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/gpu/">gpu</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/codec/">codec</a></div></div><div class="post-content"><div class="main-content content"><h1 id="ä½¿ç”¨FFmpegè°ƒç”¨NVIDIA-GPUå‹åˆ¶è§†é¢‘"><a href="#ä½¿ç”¨FFmpegè°ƒç”¨NVIDIA-GPUå‹åˆ¶è§†é¢‘" class="headerlink" title="ä½¿ç”¨FFmpegè°ƒç”¨NVIDIA GPUå‹åˆ¶è§†é¢‘"></a>ä½¿ç”¨FFmpegè°ƒç”¨NVIDIA GPUå‹åˆ¶è§†é¢‘</h1><ol>
<li>ç¡®ä¿ç”µè„‘æ˜¾å¡åœ¨æ­¤åˆ—è¡¨ä¸Šï¼š<a target="_blank" rel="noopener" href="https://developer.nvidia.com/video-encode-and-decode-gpu-support-matrix-new">https://developer.nvidia.com/video-encode-and-decode-gpu-support-matrix-new</a></li>
<li>ä¸‹è½½å¹¶å®‰è£… CUDA Toolkitï¼š<a target="_blank" rel="noopener" href="https://developer.nvidia.com/cuda-downloads">https://developer.nvidia.com/cuda-downloads</a></li>
<li>å·²ä¸‹è½½æœ€æ–°ç‰ˆFFmpegï¼š<a target="_blank" rel="noopener" href="https://ffmpeg.org/download.html">https://ffmpeg.org/download.html</a></li>
<li>æ‰§è¡Œå‘½ä»¤æŸ¥çœ‹æ‰€æœ‰å¯ç”¨çš„ç¡¬ä»¶åŠ é€Ÿå™¨</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -hwaccels</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œå¯ä»¥çœ‹åˆ°ï¼Œæˆ‘ä»¬éœ€è¦çš„ CUDA å·²ç»æœ‰äº†ã€‚</p>
<p><img src="https://raw.githubusercontent.com/Shiikos/docs-img/main/20230227202905.png" alt="img"></p>
<p>æ‰§è¡Œå‘½ä»¤æŸ¥çœ‹æŸ¥çœ‹ç¼–è§£ç å™¨</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -codecs</span><br></pre></td></tr></table></figure>

<p><code>h264_nvenc</code>æ˜¯<code>H.264</code>ç¡¬ä»¶ç¼–ç å™¨ï¼Œ<code>hevc_nvenc</code>æ˜¯<code>H.265</code>ç¡¬ä»¶ç¼–ç å™¨</p>
<p><img src="https://raw.githubusercontent.com/Shiikos/docs-img/main/20230227203522.png" alt="img"></p>
<p>æŸ¥çœ‹æŸä¸€ä¸ªç¼–ç å™¨çš„å¸®åŠ©ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -h encoder=hevc_nvenc</span><br></pre></td></tr></table></figure>

<h2 id="å‹åˆ¶å‘½ä»¤"><a href="#å‹åˆ¶å‘½ä»¤" class="headerlink" title="å‹åˆ¶å‘½ä»¤"></a>å‹åˆ¶å‘½ä»¤</h2><p>2024-07-30 å®æµ‹å¯è¡Œ</p>
<p>éƒ¨åˆ†ç¡¬ä»¶è½¬ç </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -i input.mp4 -c:v hevc_nvenc -crf 23 -c:a copy -vtag hvc1 output.mp4</span><br><span class="line"></span><br><span class="line"><span class="comment"># -i åå¡«å†™è¾“å…¥ç´ æçš„è·¯å¾„</span></span><br><span class="line"><span class="comment">#è¾“å…¥ç´ æä¸ºH.265è§†é¢‘ï¼Œ-c:v ä½¿ç”¨å¯¹åº”è§£ç å™¨hevc_nvencï¼›</span></span><br><span class="line"><span class="comment">#CRFä¸­çš„è´¨é‡çš„èŒƒå›´å¯ä»¥æ˜¯1.0 - 51.0ã€‚ä¸€èˆ¬è®¾ç½®21-25ä¹‹é—´å°±å¯ä»¥ï¼Œæ­¤å€¼è¶Šå¤§ç ç‡è¶Šä½ã€‚</span></span><br><span class="line"><span class="comment">#å£°éŸ³æµè¿™é‡Œç›´æ¥copyäº†ï¼Œæœªå‹åˆ¶ã€‚</span></span><br><span class="line"><span class="comment">#è¾“å‡ºè§†é¢‘ä¸ºH.265ã€‚</span></span><br></pre></td></tr></table></figure>

<p>å…¨ç¡¬è§£ç éœ€è¦åŠ ä¸Š<code>-hwaccel cuda</code>ï¼Œ<strong>æ³¨æ„ï¼šnvenc ç¼–ç å™¨ä¸æ”¯æŒç»™crfè®¾ç½®æ•°å€¼ï¼Œè€Œæ˜¯ç»™-cq æˆ–è€… -qp è®¾ç½®æ•°å€¼ï¼Œæ•ˆæœåŒh264ç¼–ç å™¨çš„crf</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -hwaccel cuda -i input.mp4 -c:v hevc_nvenc -cq 23 -rc vbr -c:a copy -vtag hvc1 output.mp4</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥æŒ‡å®šç ç‡ï¼š</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ffmpeg -hwaccel cuda -i <span class="string">&quot;371-%elec.mp4&quot;</span> -c:v hevc_nvenc -b:v 1800k -c:a copy -vtag hvc1 <span class="string">&quot;371-%elec_comp.mp4&quot;</span></span><br></pre></td></tr></table></figure>

</div></div><a class="button-hover more" href="/2025/01/24/ffmpeg-gpu/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/24/python-sublime/">Sublime text é…ç½® python ç¯å¢ƒ</a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-24</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/dev/">dev</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/python/">python</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/sublime/">sublime</a><span>&nbsp;|&nbsp;</span><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/lsp/">lsp</a></div></div><div class="post-content"><div class="main-content content"><h1 id="Sublime-text-é…ç½®-python-ç¯å¢ƒ"><a href="#Sublime-text-é…ç½®-python-ç¯å¢ƒ" class="headerlink" title="Sublime text é…ç½® python ç¯å¢ƒ"></a>Sublime text é…ç½® python ç¯å¢ƒ</h1><h2 id="å®‰è£…-python-lsp"><a href="#å®‰è£…-python-lsp" class="headerlink" title="å®‰è£… python lsp"></a>å®‰è£… python lsp</h2><p>å…¨å±€å®‰è£…</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install python-lsp-server</span><br></pre></td></tr></table></figure>

<h2 id="é…ç½®-sublime-text"><a href="#é…ç½®-sublime-text" class="headerlink" title="é…ç½® sublime text"></a>é…ç½® sublime text</h2><p><a target="_blank" rel="noopener" href="https://lsp.sublimetext.io/language_servers/#python">Language Servers - LSP for Sublime Text</a></p>
<p>å®‰è£…åŒ…ï¼š</p>
<ul>
<li><code>LSP</code></li>
<li><code>LSP-json</code> ï¼ˆå®˜æ–¹æ¨èçš„ï¼‰</li>
<li><code>LSP-pyright</code></li>
</ul>
<p>é‡å¯ sublimeï¼Œç„¶åæ‹–å…¥ä¸€ä¸ª python æ–‡ä»¶ï¼Œå¯ä»¥çœ‹åˆ°çŠ¶æ€æ å·¦ä¸‹è§’æç¤º <code>LSP-pyright intalling...</code> ç­‰ä¸€ä¼šå°±å¥½äº† </p>
</div></div><a class="button-hover more" href="/2025/01/24/python-sublime/#more">é˜…è¯»å…¨æ–‡</a></div><div class="recent-post-item"><a class="post-title" href="/2025/01/24/git-chinese-messy-code/">git æ˜¾ç¤ºä¸­æ–‡å’Œè§£å†³ä¸­æ–‡ä¹±ç </a><div class="container"><time class="button-hover post-date"><i class="fas fa-calendar-alt article-icon" aria-hidden="true"></i> æ›´æ–°äº 2025-01-24</time><div class="button-hover categories"><i class="fa fa-inbox article-icon" aria-hidden="true"></i><a class="link-a" href="/categories/dev/">dev</a></div><div class="button-hover tags"><i class="fa fa-tag article-icon" aria-hidden="true"></i><a class="link-a" href="/tags/git/">git</a></div></div><div class="post-content"><div class="main-content content"><h1 id="git-æ˜¾ç¤ºä¸­æ–‡å’Œè§£å†³ä¸­æ–‡ä¹±ç "><a href="#git-æ˜¾ç¤ºä¸­æ–‡å’Œè§£å†³ä¸­æ–‡ä¹±ç " class="headerlink" title="git æ˜¾ç¤ºä¸­æ–‡å’Œè§£å†³ä¸­æ–‡ä¹±ç "></a>git æ˜¾ç¤ºä¸­æ–‡å’Œè§£å†³ä¸­æ–‡ä¹±ç </h1><h2 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h2><p>åœ¨é»˜è®¤è®¾ç½®ä¸‹ï¼Œä¸­æ–‡æ–‡ä»¶ååœ¨å·¥ä½œåŒºçŠ¶æ€è¾“å‡ºï¼Œä¸­æ–‡åä¸èƒ½æ­£ç¡®æ˜¾ç¤ºï¼Œè€Œæ˜¯æ˜¾ç¤ºä¸ºå…«è¿›åˆ¶çš„å­—ç¬¦ç¼–ç ã€‚</p>
<h2 id="è§£å†³åŠæ³•"><a href="#è§£å†³åŠæ³•" class="headerlink" title="è§£å†³åŠæ³•"></a>è§£å†³åŠæ³•</h2><p>å°†gité…ç½®æ–‡ä»¶ <code>core.quotepath</code>é¡¹è®¾ç½®ä¸º<code>false</code>ã€‚<code>quotepath</code>è¡¨ç¤ºå¼•ç”¨è·¯å¾„ï¼ŒåŠ ä¸Š<code>--global</code>è¡¨ç¤ºå…¨å±€é…ç½®</p>
<p><code>git bash</code>ç»ˆç«¯è¾“å…¥å‘½ä»¤ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git config --global core.quotepath false</span><br></pre></td></tr></table></figure>


<p>è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™æ ·è®¾ç½®åï¼Œä½ çš„<code>git bash</code>ç»ˆç«¯ä¹Ÿè¦è®¾ç½®æˆä¸­æ–‡å’Œ<code>utf-8</code>ç¼–ç ã€‚æ‰èƒ½æ­£ç¡®æ˜¾ç¤ºä¸­æ–‡.</p>
<p>åœ¨<code>git bash</code>çš„ç•Œé¢ä¸­å³å‡»ç©ºç™½å¤„ï¼Œå¼¹å‡ºèœå•ï¼Œé€‰æ‹©<code>é€‰é¡¹-&gt;æ–‡æœ¬-&gt;æœ¬åœ°Locale</code>ï¼Œè®¾ç½®ä¸º<code>zh_CN</code>ï¼Œè€Œæ—è¾¹çš„å­—ç¬¦é›†é€‰æ¡†é€‰ä¸º<code>UTF-8</code>ã€‚</p>
<p>è‹±æ–‡æ˜¾ç¤ºåˆ™æ˜¯ï¼š<br><code>Options-&gt;Text-&gt;Locale</code>æ”¹ä¸º<code>zh_CN</code>ï¼Œ<code>Character set</code>æ”¹ä¸º<code>UTF-8</code></p>
<p>å¦‚æœä½ çš„git bashç»ˆç«¯æ²¡æœ‰èœå•é€‰é¡¹æ˜¾ç¤ºï¼Œè¿˜å¯ä»¥é€šè¿‡ç›´æ¥ä¿®æ”¹é…ç½®æ–‡ä»¶çš„æ–¹å¼æ¥è§£å†³ä¸­æ–‡ä¹±ç é—®é¢˜ã€‚</p>
<p>è¿›å…¥gitçš„å®‰è£…ç›®å½•</p>
<p>ç¼–è¾‘<code>etc\gitconfig</code>æ–‡ä»¶ï¼Œä¹Ÿæœ‰äº›windowsç³»ç»Ÿæ˜¯å­˜æ”¾åœ¨<code>C:\Users\Administrator\.gitconfig</code>è·¯å¾„æˆ–<code>å®‰è£…ç›˜ç¬¦:\Git\mingw64\etc\gitconfig</code>ï¼Œåœ¨æ–‡ä»¶æœ«å°¾å¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[gui]  </span><br><span class="line">    encoding = utf-8  </span><br><span class="line">    # ä»£ç åº“ç»Ÿä¸€ä½¿ç”¨utf-8  </span><br><span class="line">[i18n]  </span><br><span class="line">    commitencoding = utf-8  </span><br><span class="line">    # logç¼–ç   </span><br><span class="line">[svn]  </span><br><span class="line">    pathnameencoding = utf-8  </span><br><span class="line">    # æ”¯æŒä¸­æ–‡è·¯å¾„  </span><br><span class="line">[core]</span><br><span class="line">    quotepath = false </span><br><span class="line">    # statuså¼•ç”¨è·¯å¾„ä¸å†æ˜¯å…«è¿›åˆ¶ï¼ˆåè¿‡æ¥è¯´å°±æ˜¯å…è®¸æ˜¾ç¤ºä¸­æ–‡äº†ï¼‰</span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘<code>etc\git-completion.bash</code>æ–‡ä»¶,åœ¨æ–‡ä»¶æœ«å°¾å¢åŠ ä»¥ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># è®©lså‘½ä»¤èƒ½å¤Ÿæ­£å¸¸æ˜¾ç¤ºä¸­æ–‡</span><br><span class="line">alias ls=&#x27;ls --show-control-chars --color=auto&#x27; </span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘<code>etc\inputrc</code>æ–‡ä»¶ï¼Œä¿®æ”¹<code>output-meta</code>å’Œ<code>convert-meta</code>å±æ€§å€¼ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">set output-meta on  # bashå¯ä»¥æ­£å¸¸è¾“å…¥ä¸­æ–‡  </span><br><span class="line">set convert-meta off  </span><br></pre></td></tr></table></figure>

<p>ç¼–è¾‘<code>profile</code>æ–‡ä»¶ï¼Œåœ¨æ–‡ä»¶æœ«å°¾æ·»åŠ å¦‚ä¸‹å†…å®¹ï¼š</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export LESSHARESET=utf-8</span><br></pre></td></tr></table></figure></div></div><a class="button-hover more" href="/2025/01/24/git-chinese-messy-code/#more">é˜…è¯»å…¨æ–‡</a></div></div><div id="pagination"><div class="pagination"><a class="extend prev" rel="prev" href="/page/2/"><i class="fas fa-angle-left"></i></a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/4/"><i class="fas fa-angle-right"></i></a></div></div></div></div><div class="button-hover" id="return-top"><i class="fas fa-arrow-up" aria-hidden="true"></i></div><footer><div id="footer"><div class="button-hover" id="side-button"><i class="fas fa-arrow-right"></i></div><div class="right-content"><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_site_uv"><i class="fas fa-user"></i></span><span id="busuanzi_value_site_uv"></span><span></span><span class="footer-separator">|</span><span id="busuanzi_container_site_pv"><i class="fas fa-eye"></i></span><span id="busuanzi_value_site_pv"></span><span></span></div><div class="copyright">&copy;2017 ï½ 2025 By TaylorAndTony</div></div></div></footer></div><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery-3.3.1.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/velocity.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/thirdparty/jquery.mCustomScrollbar.concat.min.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/fan.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/canvas_bg.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/utils.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/scroll.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/sidebar.js"></script><!--script(src=url)--><!--js(src=url_for(url) + '?version=' + version())--><script src="/js/copy.js"></script><!--script(src=url)--><div class="search-dialog"><div id="algolia-search-title">Algolia</div><div class="search-close-button"><i class="fa fa-times"></i></div><!--div#current-refined-values--><!--div#clear-all--><div id="search-box"></div><!--div#refinement-list--><hr><div id="hits"></div><div id="algolia-pagination"></div></div><div class="search-mask"></div><script src="/js/search/algolia.js"></script></body></html>